---
title: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤
---

# üîê –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤: LUKS –∏ cryptsetup

–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ–∫–æ—è (at-rest) ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –û–Ω–æ –∑–∞—â–∏—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Å–ª—É—á–∞–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—Ä–∞–∂–∏ –∏–ª–∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–æ—Å–∏—Ç–µ–ª—é. –í Linux —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–µ-—Ñ–∞–∫—Ç–æ –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –±–ª–æ—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —è–≤–ª—è–µ—Ç—Å—è **LUKS (Linux Unified Key Setup)**.

## üéØ –¶–µ–ª—å —Ä–∞–∑–¥–µ–ª–∞

- –ü–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ LUKS –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç.
- –†–∞–∑–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–æ–¥—Ö–æ–¥—ã: **–ø–æ–ª–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ (FDE)** –∏ **—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**.
- –ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ç–æ–º–∞–º–∏ —Å –ø–æ–º–æ—â—å—é `cryptsetup`.
- –ò–∑—É—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —á–µ—Ä–µ–∑ `/etc/crypttab` –∏ –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã.

---

## üõ°Ô∏è –ß—Ç–æ —Ç–∞–∫–æ–µ LUKS?

**LUKS** ‚Äî —ç—Ç–æ –Ω–µ —Å–∞–º–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –∞ **—Å—Ç–∞–Ω–¥–∞—Ä—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º**. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–¥—ë–∂–Ω—ã–π –∏ –≥–∏–±–∫–∏–π —Å–ª–æ–π –ø–æ–≤–µ—Ä—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —è–¥—Ä–∞ Linux ‚Äî **dm-crypt**.

–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ LUKS:

- **–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:** LUKS —Ö—Ä–∞–Ω–∏—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (—Ç–∏–ø —à–∏—Ñ—Ä–∞, —Ö—ç—à, –∏ —Ç.–¥.) –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–µ –Ω–∞ —Å–∞–º–æ–º –¥–∏—Å–∫–µ. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–º —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–º.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª—é—á–µ–π:** –í—ã –º–æ–∂–µ—Ç–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Ç–æ–º –æ–¥–Ω–∏–º –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á–æ–º, –Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫ –Ω–µ–º—É –¥–æ—Å—Ç—É–ø —Å –ø–æ–º–æ—â—å—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–∑–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –∏–ª–∏ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –æ—Ç–∑—ã–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø (—É–¥–∞–ª—è—è –æ–¥–∏–Ω –∏–∑ —Å–ª–æ—Ç–æ–≤), –Ω–µ –ø–µ—Ä–µ—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—è –≤–µ—Å—å –¥–∏—Å–∫.
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞:** LUKS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PBKDF2 (Password-Based Key Derivation Function 2), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–¥–±–æ—Ä –ø–∞—Ä–æ–ª—è —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–º –∏ —Ä–µ—Å—É—Ä—Å–æ—ë–º–∫–∏–º.

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1.  **–ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á (Master Key):** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ LUKS-—Ç–æ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–æ–π, –æ—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –ò–º–µ–Ω–Ω–æ –∏–º —à–∏—Ñ—Ä—É—é—Ç—Å—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ.
2.  **–°–ª–æ—Ç—ã –¥–ª—è –∫–ª—é—á–µ–π (Key Slots):** –ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á —Å–∞–º —à–∏—Ñ—Ä—É–µ—Ç—Å—è –∏ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –æ–¥–∏–Ω –∏–∑ 8 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤. –¢–æ, —á–µ–º –æ–Ω —à–∏—Ñ—Ä—É–µ—Ç—Å—è ‚Äî —ç—Ç–æ –≤–∞—à –ø–∞—Ä–æ–ª—å (–ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ PBKDF2) –∏–ª–∏ –∫–ª—é—á–µ–≤–æ–π —Ñ–∞–π–ª.
3.  **–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞:** –ö–æ–≥–¥–∞ –≤—ã –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, LUKS –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∏–º –∫–∞–∂–¥—ã–π —Å–ª–æ—Ç. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ ‚Äî –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á—É, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –µ–≥–æ –≤ —è–¥—Ä–æ (dm-crypt) –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–º.

![LUKS Structure](https://i.imgur.com/example.png) *<-- Placeholder for a real diagram of LUKS key slots and master key.*

---

## üì¶ –ü–æ–ª–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (FDE) vs. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

| –ü–æ–¥—Ö–æ–¥ | üíø –ü–æ–ª–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ (FDE) | üóÉÔ∏è –§–∞–π–ª-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| :--- | :--- | :--- |
| **–ß—Ç–æ —à–∏—Ñ—Ä—É–µ—Ç—Å—è** | –í–µ—Å—å —Ä–∞–∑–¥–µ–ª –∏–ª–∏ –¥–∏—Å–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/dev/sda2`). –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä–Ω–µ–≤–æ–π –§–° –∏–ª–∏ `/home`. | –û–±—ã—á–Ω—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –±–ª–æ—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. | 
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –û–° –∏–ª–∏ –Ω–∞ –ø—É—Å—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ. | –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –≤ –¥–æ–º–∞—à–Ω–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ. |
| **–ì–∏–±–∫–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è. –†–∞–∑–º–µ—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω —Ä–∞–∑–º–µ—Ä–æ–º —Ä–∞–∑–¥–µ–ª–∞. | –í—ã—Å–æ–∫–∞—è. –§–∞–π–ª –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –±—ç–∫–∞–ø–∏—Ç—å. |
| **–°—Ü–µ–Ω–∞—Ä–∏–π** | –ó–∞—â–∏—Ç–∞ –≤—Å–µ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –Ω–æ—É—Ç–±—É–∫–µ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–µ. | –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –ø–µ—Ä–µ–Ω–æ—Å–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤. |

---

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LUKS —Å `cryptsetup`

`cryptsetup` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LUKS –∏ dm-crypt.

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞

!!! warning "–í–Ω–∏–º–∞–Ω–∏–µ!"
    –°–ª–µ–¥—É—é—â–∞—è –∫–æ–º–∞–Ω–¥–∞ **—É–Ω–∏—á—Ç–æ–∂–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ** –Ω–∞ `/dev/sdb1`.

```bash
# –°–æ–∑–¥–∞—ë–º LUKS-—Ç–æ–º –Ω–∞ —Ä–∞–∑–¥–µ–ª–µ /dev/sdb1
# cryptsetup luksFormat /dev/sdb1

WARNING! This will overwrite data on /dev/sdb1 irrevocably.
Are you sure? (Type 'yes' in capital letters): YES
Enter passphrase for /dev/sdb1: 
Verify passphrase: 
```

### –û—Ç–∫—Ä—ã—Ç–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–º–∞

–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–æ–º–æ–º, –µ–≥–æ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å. `cryptsetup` —Å–æ–∑–¥–∞—Å—Ç "–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ" –±–ª–æ—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ `/dev/mapper/`.

```bash
# –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ç–æ–º –∏ –¥–∞—ë–º –µ–º—É –∏–º—è "encrypted_data"
# cryptsetup open /dev/sdb1 encrypted_data
Enter passphrase for /dev/sdb1: 

# –ü—Ä–æ–≤–µ—Ä—è–µ–º
# ls -l /dev/mapper/
crw-rw---- 1 root root 10, 236 Jul 28 10:00 control
lrwxrwxrwx 1 root root       7 Jul 28 10:10 encrypted_data -> ../dm-0
```

–¢–µ–ø–µ—Ä—å `/dev/mapper/encrypted_data` ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω–æ–µ –±–ª–æ—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –§–°.

```bash
# mkfs.ext4 /dev/mapper/encrypted_data
# mkdir /secure_data
# mount /dev/mapper/encrypted_data /secure_data
```

### –ó–∞–∫—Ä—ã—Ç–∏–µ —Ç–æ–º–∞

```bash
# umount /secure_data
# cryptsetup close encrypted_data
```

---

## üîë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è

–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–æ–ª—å, –Ω–µ –∑–Ω–∞—è –ø–µ—Ä–≤–æ–≥–æ (–Ω–æ –∏–º–µ—è –¥–æ—Å—Ç—É–ø –∫ –æ–¥–Ω–æ–º—É –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö).

```bash
# cryptsetup luksAddKey /dev/sdb1
Enter any existing passphrase: <—Å—Ç–∞—Ä—ã–π_–ø–∞—Ä–æ–ª—å>
Enter new passphrase for key slot: <–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å>
Verify passphrase: 
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ (Keyfile)

–ü–∞—Ä–æ–ª–∏ –Ω–µ—É–¥–æ–±–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã.

1.  **–°–æ–∑–¥–∞—ë–º —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á–µ–≤–æ–π —Ñ–∞–π–ª:**
    ```bash
    # dd if=/dev/urandom of=/etc/keys/data.key bs=4096 count=1
    # chmod 0400 /etc/keys/data.key # –ó–∞—â–∏—â–∞–µ–º!
    ```

2.  **–î–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –≤ —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–ª–æ—Ç:**
    ```bash
    # cryptsetup luksAddKey /dev/sdb1 /etc/keys/data.key
Enter any existing passphrase: <–≤–∞—à_–ø–∞—Ä–æ–ª—å>
    ```

3.  **–£–¥–∞–ª—è–µ–º –ø–∞—Ä–æ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏):**
    ```bash
    # cryptsetup luksRemoveKey /dev/sdb1
Enter passphrase to be removed: <–≤–∞—à_–ø–∞—Ä–æ–ª—å>
    ```

---

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞: `/etc/crypttab`

–§–∞–π–ª `/etc/crypttab` —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `/etc/fstab` –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç `systemd` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.

**–§–æ—Ä–º–∞—Ç:**
`<name> <device> <keyfile> <options>`

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **`<name>`** | –ò–º—è, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø—Ä–∏—Å–≤–æ–µ–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –≤ `/dev/mapper/`. |
| **`<device>`** | –ü—É—Ç—å –∫ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `UUID=`**. |
| **`<keyfile>`** | –ü—É—Ç—å –∫ –∫–ª—é—á–µ–≤–æ–º—É —Ñ–∞–π–ª—É. `none` ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤—Ä—É—á–Ω—É—é. |
| **`<options>`** | –û–ø—Ü–∏–∏. `luks` ‚Äî —Å–∞–º–∞—è —á–∞—Å—Ç–∞—è. `tries=0` ‚Äî –Ω–µ –ø—ã—Ç–∞—Ç—å—Å—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑. `discard` ‚Äî –¥–ª—è SSD. |

**–ü—Ä–∏–º–µ—Ä:**

1.  **–ù–∞—Ö–æ–¥–∏–º UUID:**
    ```bash
    # blkid /dev/sdb1
    /dev/sdb1: UUID="abcdef-1234-..." TYPE="crypto_LUKS"
    ```

2.  **–î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ `/etc/crypttab`:**
    ```
    # <target name> <source device>         <key file>      <options>
    encrypted_data  UUID=abcdef-1234-...    /etc/keys/data.key  luks
    ```

3.  **–î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ `/etc/fstab` –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
    ```
    /dev/mapper/encrypted_data  /secure_data  ext4  defaults,nofail 0 2
    ```

4.  **–û–±–Ω–æ–≤–ª—è–µ–º initramfs:**
    ```bash
    # update-initramfs -u -k all
    ```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ `systemd` –ø—Ä–æ—á–∏—Ç–∞–µ—Ç `crypttab`, –Ω–∞–π–¥—ë—Ç –∫–ª—é—á–µ–≤–æ–π —Ñ–∞–π–ª, —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ–º, –∞ –∑–∞—Ç–µ–º `fstab` –µ–≥–æ —Å–º–æ–Ω—Ç–∏—Ä—É–µ—Ç.

---

### Go Example: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ LUKS-—Ç–æ–º–∞

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞ Go, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `cryptsetup` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–æ–º –∞–∫—Ç–∏–≤–Ω—ã–º –∏ –∫–∞–∫–∏–µ —É –Ω–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

```go
package main

import (
	"bytes"
	"encoding/json"
	"fmt"
	"os"
	"os/exec"
)

// LuksStatus –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç JSON-–≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã `cryptsetup status --json`
type LuksStatus struct {
	Cipher    string `json:"cipher"`
	Keysize   int    `json:"keysize"`
	Device    string `json:"device"`
	Type      string `json:"type"`
	UUID      string `json:"uuid"`
}

func main() {
	if len(os.Args) < 2 {
		fmt.Println("Usage: go run main.go <mapper_name>")
		fmt.Println("Example: go run main.go encrypted_data")
		os.Exit(1)
	}

	mapperName := os.Args[1]

	cmd := exec.Command("cryptsetup", "status", mapperName, "--json")

	var out bytes.Buffer
	cmd.Stdout = &out
	cmd.Stderr = os.Stderr

	err := cmd.Run()
	if err != nil {
		fmt.Fprintf(os.Stderr, "Failed to get status for %s. Is it open?\n", mapperName)
		os.Exit(1)
	}

	var status LuksStatus
	if err := json.Unmarshal(out.Bytes(), &status); err != nil {
		fmt.Fprintf(os.Stderr, "Failed to parse JSON: %v\n", err)
		os.Exit(1)
	}

	fmt.Printf("Status for '%s':\n", mapperName)
	fmt.Printf("  Type:     %s\n", status.Type)
	fmt.Printf("  Device:   %s\n", status.Device)
	fmt.Printf("  UUID:     %s\n", status.UUID)
	fmt.Printf("  Cipher:   %s\n", status.Cipher)
	fmt.Printf("  Keysize:  %d bits\n", status.Keysize)
}
```
