---
title: LVM (Logical Volume Manager)
---

# üóÇÔ∏è LVM: Logical Volume Manager

**LVM** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–µ–∂–¥—É —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º–∏ –¥–∏—Å–∫–∞–º–∏ –∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–∏—Å–∫–æ–≤—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º: –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä —Ä–∞–∑–¥–µ–ª–æ–≤ –Ω–∞ –ª–µ—Ç—É, —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–Ω–∞–ø—à–æ—Ç—ã, –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–∏—Å–∫–æ–≤ –≤ –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π —Ç–æ–º –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ, —á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏.

## üéØ –¶–µ–ª—å —Ä–∞–∑–¥–µ–ª–∞

- –ü–æ–Ω—è—Ç—å —Ç—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É LVM: **Physical Volume (PV)**, **Volume Group (VG)**, **Logical Volume (LV)**.
- –ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ —Ç–æ–º–∞–º–∏: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, —É–º–µ–Ω—å—à–µ–Ω–∏–µ.
- –û—Å–≤–æ–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **—Å–Ω–∞–ø—à–æ—Ç–æ–≤** –¥–ª—è –±—ç–∫–∞–ø–æ–≤ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ **thin provisioning**.

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ LVM

LVM –≤–≤–æ–¥–∏—Ç —Ç—Ä–∏ –∫–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –∏–µ—Ä–∞—Ä—Ö–∏—é:

1.  **Physical Volume (PV) / –§–∏–∑–∏—á–µ—Å–∫–∏–π —Ç–æ–º:**
    - –≠—Ç–æ –±–∞–∑–æ–≤—ã–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –±–ª–æ–∫. –û–±—ã—á–Ω–æ —ç—Ç–æ —Ü–µ–ª—ã–π –¥–∏—Å–∫ (`/dev/sdb`) –∏–ª–∏ —Ä–∞–∑–¥–µ–ª (`/dev/sdc1`), –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ LVM.
    - –ö–æ–º–∞–Ω–¥–∞: `pvcreate`.

2.  **Volume Group (VG) / –ì—Ä—É–ø–ø–∞ —Ç–æ–º–æ–≤:**
    - –≠—Ç–æ "–ø—É–ª" –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–æ–≤ (PV).
    - –í—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å VG –∫–∞–∫ –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–∏—Å–∫, —Å–æ–±—Ä–∞–Ω–Ω—ã–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö.
    - –ö–æ–º–∞–Ω–¥–∞: `vgcreate`.

3.  **Logical Volume (LV) / –õ–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–æ–º:**
    - –≠—Ç–æ –∞–Ω–∞–ª–æ–≥ —Ä–∞–∑–¥–µ–ª–∞, –∫–æ—Ç–æ—Ä—ã–π "–Ω–∞—Ä–µ–∑–∞–µ—Ç—Å—è" –∏–∑ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤ (VG).
    - –ò–º–µ–Ω–Ω–æ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–º —Ç–æ–º–µ (LV) —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (`mkfs.ext4`, `mkfs.xfs`) –∏ –æ–Ω –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º—É.
    - –õ–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–æ–º–∞ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å, —É–º–µ–Ω—å—à–∞—Ç—å –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏—Ö —Å–Ω–∞–ø—à–æ—Ç—ã.
    - –ö–æ–º–∞–Ω–¥–∞: `lvcreate`.

**–°—Ö–µ–º–∞:**

```
+----------------------------------------------------+
| –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (/dev/my_vg/my_lv) ‚Üí –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
+----------------------------------------------------+
                  ‚Üë
+----------------------------------------------------+
| Logical Volume (LV)  |  Logical Volume (LV)        |
| (my_lv, 50G)         |  (another_lv, 100G)         |
+----------------------------------------------------+
                  ‚Üë
+----------------------------------------------------+
| Volume Group (VG) "my_vg" (–ü—É–ª –∏–∑ 200G)            |
+----------------------------------------------------+
                  ‚Üë
+----------------------+  +---------------------------+
| Physical Volume (PV) |  | Physical Volume (PV)      |
| (/dev/sda1, 100G)    |  | (/dev/sdb1, 100G)         |
+----------------------+  +---------------------------+
```

---

## üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LVM

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∏—Å–∫–æ–≤

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –¥–≤–∞ –¥–∏—Å–∫–∞: `/dev/sdb` –∏ `/dev/sdc`. –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º –Ω–∞ –Ω–∏—Ö —Ä–∞–∑–¥–µ–ª—ã —Ç–∏–ø–∞ `Linux LVM` (ID `8e` –≤ `fdisk` –∏–ª–∏ `8E00` –≤ `gdisk`).

```bash
# –°–æ–∑–¥–∞—ë–º —Ä–∞–∑–¥–µ–ª—ã /dev/sdb1 –∏ /dev/sdc1 —Å –ø–æ–º–æ—â—å—é gdisk –∏–ª–∏ fdisk
# ... (–ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫–∞–∑–∞–Ω –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ä–∞–∑–¥–µ–ª–µ)
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ Physical Volumes (PV)

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞—à–∏ —Ä–∞–∑–¥–µ–ª—ã –∫–∞–∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–æ–º–∞.

```bash
# pvcreate /dev/sdb1 /dev/sdc1
  Physical volume "/dev/sdb1" successfully created.
  Physical volume "/dev/sdc1" successfully created.

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# pvs –∏–ª–∏ pvdisplay
  PV         VG   Fmt  Attr PSize   PFree
  /dev/sdb1       lvm2 a--  <10.00g <10.00g
  /dev/sdc1       lvm2 a--  <10.00g <10.00g
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ Volume Group (VG)

–û–±—ä–µ–¥–∏–Ω—è–µ–º –Ω–∞—à–∏ PV –≤ –æ–¥–Ω—É –≥—Ä—É–ø–ø—É —Ç–æ–º–æ–≤ —Å –∏–º–µ–Ω–µ–º `data_vg`.

```bash
# vgcreate data_vg /dev/sdb1 /dev/sdc1
  Volume group "data_vg" successfully created

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# vgs –∏–ª–∏ vgdisplay data_vg
  VG      #PV #LV #SN Attr   VSize   VFree
  data_vg   2   0   0 wz--n- <20.00g <20.00g
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ Logical Volume (LV)

–ù–∞—Ä–µ–∑–∞–µ–º –∏–∑ `data_vg` –ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–æ–º —Ä–∞–∑–º–µ—Ä–æ–º 15 –ì–ë —Å –∏–º–µ–Ω–µ–º `web_data`.

```bash
# lvcreate -L 15G -n web_data data_vg
  Logical volume "web_data" created.

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# lvs –∏–ª–∏ lvdisplay /dev/data_vg/web_data
  LV       VG      Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  web_data data_vg -wi-a----- 15.00g
```

### 5. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –±–ª–æ—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ `/dev/data_vg/web_data`. –†–∞–±–æ—Ç–∞–µ–º —Å –Ω–∏–º –∫–∞–∫ —Å –æ–±—ã—á–Ω—ã–º —Ä–∞–∑–¥–µ–ª–æ–º.

```bash
# –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É XFS
# mkfs.xfs /dev/data_vg/web_data

# –°–æ–∑–¥–∞—ë–º —Ç–æ—á–∫—É –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
# mkdir -p /srv/web

# –ú–æ–Ω—Ç–∏—Ä—É–µ–º –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ fstab –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞
# mount /dev/data_vg/web_data /srv/web
# echo '/dev/mapper/data_vg-web_data /srv/web xfs defaults 0 0' >> /etc/fstab
```
!!! note "–ü—É—Ç—å –∫ LV"
    –í `fstab` –∏ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–∞ –ø—É—Ç–∏: `/dev/data_vg/web_data` –∏–ª–∏ `/dev/mapper/data_vg-web_data`. –í—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–º.

---

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ç–æ–º–æ–≤

–í —ç—Ç–æ–º –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è —Å–∏–ª–∞ LVM.

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–æ–º–∞

1.  **–†–∞—Å—à–∏—Ä—è–µ–º –ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–æ–º (LV):**
    ```bash
    # lvextend -L +5G /dev/data_vg/web_data
    # –∏–ª–∏ –¥–æ 100% —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ VG:
    # lvextend -l +100%FREE /dev/data_vg/web_data
    ```

2.  **–†–∞—Å—à–∏—Ä—è–µ–º —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞ —Ç–æ–º–µ:**
    - –î–ª—è `ext4`:
      ```bash
      # resize2fs /dev/data_vg/web_data
      ```
    - –î–ª—è `XFS`:
      ```bash
      # xfs_growfs /srv/web  # XFS —Ç—Ä–µ–±—É–µ—Ç –ø—É—Ç—å –∫ —Ç–æ—á–∫–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
      ```

### –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ç–æ–º–∞

!!! warning "–í–Ω–∏–º–∞–Ω–∏–µ!"
    –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ç–æ–º–∞ ‚Äî —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è. **–í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø!** –í—ã –¥–æ–ª–∂–Ω—ã —É–º–µ–Ω—å—à–∏—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É **–î–û** —Ç–æ–≥–æ, –∫–∞–∫ —É–º–µ–Ω—å—à–∏—Ç–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–æ–º.

1.  **–û—Ç–º–æ–Ω—Ç–∏—Ä—É–µ–º —Ç–æ–º:**
    ```bash
    # umount /srv/web
    ```
2.  **–ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ —É–º–µ–Ω—å—à–∞–µ–º –§–° (–ø—Ä–∏–º–µ—Ä –¥–ª—è ext4):**
    ```bash
    # e2fsck -f /dev/data_vg/web_data
    # resize2fs /dev/data_vg/web_data 18G # –£–º–µ–Ω—å—à–∞–µ–º –¥–æ 18–ì–ë
    ```
3.  **–£–º–µ–Ω—å—à–∞–µ–º LV (–¥–æ —Ä–∞–∑–º–µ—Ä–∞ —á—É—Ç—å –±–æ–ª—å—à–µ–≥–æ, —á–µ–º –§–°):**
    ```bash
    # lvreduce -L 18G /dev/data_vg/web_data
    ```
4.  **–ú–æ–Ω—Ç–∏—Ä—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ:**
    ```bash
    # mount /srv/web
    ```

---

## üì∏ LVM –°–Ω–∞–ø—à–æ—Ç—ã

**–°–Ω–∞–ø—à–æ—Ç** ‚Äî —ç—Ç–æ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π "—Å–Ω–∏–º–æ–∫" —Å–æ—Å—Ç–æ—è–Ω–∏—è –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **Copy-on-Write (CoW)**.

- –ö–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ —Å–Ω–∞–ø—à–æ—Ç, –æ–Ω –ø–æ—á—Ç–∏ –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–∞.
- –ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –Ω–∞ **–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º** —Ç–æ–º–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è, —Å—Ç–∞—Ä—ã–π, –Ω–µ–∏–∑–º–µ–Ω—ë–Ω–Ω—ã–π –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ —Å–Ω–∞–ø—à–æ—Ç –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω.
- –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å–Ω–∞–ø—à–æ—Ç —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã —Å –º–æ–º–µ–Ω—Ç–∞ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è, —ç–∫–æ–Ω–æ–º—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –°–¥–µ–ª–∞—Ç—å —Å–Ω–∞–ø—à–æ—Ç ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–≤ —Ç–æ–º –∏–∑ —Å–Ω–∞–ø—à–æ—Ç–∞.
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –±—ç–∫–∞–ø—ã:** –°–¥–µ–ª–∞—Ç—å —Å–Ω–∞–ø—à–æ—Ç ‚Üí —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Ä–µ–∂–∏–º–µ `read-only` ‚Üí —Å–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —Å –Ω–µ–≥–æ. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∏–∑–º–µ–Ω—è—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

### –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–Ω–∞–ø—à–æ—Ç–∞

```bash
# –°–æ–∑–¥–∞—ë–º —Å–Ω–∞–ø—à–æ—Ç —Ç–æ–º–∞ web_data —Å –∏–º–µ–Ω–µ–º web_backup –∏ —Ä–∞–∑–º–µ—Ä–æ–º 1–ì–ë
# lvcreate --size 1G --snapshot --name web_backup /dev/data_vg/web_data

# –ú–æ–Ω—Ç–∏—Ä—É–µ–º —Å–Ω–∞–ø—à–æ—Ç –¥–ª—è –±—ç–∫–∞–ø–∞
# mkdir /mnt/backup
# mount -o ro /dev/data_vg/web_backup /mnt/backup

# ... –¥–µ–ª–∞–µ–º –±—ç–∫–∞–ø —Å /mnt/backup ...

# –û—Ç–º–æ–Ω—Ç–∏—Ä—É–µ–º –∏ —É–¥–∞–ª—è–µ–º —Å–Ω–∞–ø—à–æ—Ç
# umount /mnt/backup
# lvremove /dev/data_vg/web_backup
```

### –û—Ç–∫–∞—Ç –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é —Å–Ω–∞–ø—à–æ—Ç–∞

```bash
# lvconvert --merge /dev/data_vg/web_backup
```
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–ª—å—ë—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ —Å–Ω–∞–ø—à–æ—Ç–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–æ–º, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞—è –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –¢–æ–º –±—É–¥–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∞ –ø–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è —Å–Ω–∞–ø—à–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—Å—è.

---

## üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: Thin Provisioning

**"–¢–æ–Ω–∫–∏–µ" —Ç–æ–º–∞ (Thin Volumes)** –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Ç–æ–º–∞–º –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞, —á–µ–º —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –≥—Ä—É–ø–ø–µ —Ç–æ–º–æ–≤.

- **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –í—ã —Å–æ–∑–¥–∞—ë—Ç–µ **thin pool** (—Ç–æ–Ω–∫–∏–π –ø—É–ª) –≤–Ω—É—Ç—Ä–∏ VG. –≠—Ç–æ—Ç –ø—É–ª –∏–º–µ–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä. –ó–∞—Ç–µ–º –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ "—Ç–æ–Ω–∫–∏–µ" —Ç–æ–º–∞, –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1–¢–ë, –∫–æ–≥–¥–∞ –≤ –ø—É–ª–µ –≤—Å–µ–≥–æ 100–ì–ë).
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤ –ø—É–ª–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è —Ç–æ–º–∞–º –ø–æ –º–µ—Ä–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –≥–¥–µ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏–π, –Ω–µ –≤—ã–¥–µ–ª—è—è –∏–º —Å—Ä–∞–∑—É –≤—Å—ë –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ thin pool —Ä–∞–∑–º–µ—Ä–æ–º 50G
# lvcreate -L 50G --thinpool data_thin_pool data_vg

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–Ω–∫–æ–≥–æ —Ç–æ–º–∞ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º 100G
# lvcreate -V 100G --name thin_vol_1 -T data_vg/data_thin_pool
```

!!! warning "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
    –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ç–æ–Ω–∫–∏—Ö —Ç–æ–º–æ–≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –≤ **–ø—É–ª–µ**, –∞ –Ω–µ –≤ —Å–∞–º–∏—Ö —Ç–æ–º–∞—Ö. –ï—Å–ª–∏ –ø—É–ª –ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç—Å—è, –≤—Å–µ —Ç–æ–º–∞ –≤ –Ω—ë–º —É–π–¥—É—Ç –≤ read-only.
