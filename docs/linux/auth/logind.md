---
title: Logind –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
---

# üö™ Logind: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –∏ –ø–∏—Ç–∞–Ω–∏–µ–º

**systemd-logind** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å–µ—Å—Å–∏—è–º–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ä–µ—Å—É—Ä—Å–∞–º. –û–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç, –∫—Ç–æ –≤–æ—à—ë–ª –≤ —Å–∏—Å—Ç–µ–º—É, –≥–¥–µ (–ª–æ–∫–∞–ª—å–Ω–æ, –ø–æ SSH, –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –æ–±–æ–ª–æ—á–∫–µ) –∏ –∫–∞–∫, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–∏–º–∏ —Å–µ—Å—Å–∏—è–º–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å –Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏.

## üéØ –¶–µ–ª—å —Ä–∞–∑–¥–µ–ª–∞

- –ü–æ–Ω—è—Ç—å —Ä–æ–ª—å `logind` –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Linux.
- –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è—Ö **—Å–µ—Å—Å–∏–∏ (session)**, **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (user)** –∏ **–º–µ—Å—Ç–∞ (seat)**.
- –ù–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É `loginctl` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏.
- –ò–∑—É—á–∏—Ç—å, –∫–∞–∫ `logind` –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å `Polkit` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞, –≤—ã–∫–ª—é—á–µ–Ω–∏–µ).

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–æ–ª—å `logind`

`logind` —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–º –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**

1.  **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å–µ—Å—Å–∏–π:**
    - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É (—á–µ—Ä–µ–∑ `sshd`, `gdm`, `login`).
    - –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Å–µ—Å—Å–∏—é –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–π –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç.
    - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è "–±–µ—Å—Ö–æ–∑–Ω—ã—Ö" –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (`linger`).

2.  **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º:**
    - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é (–≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã, –∑–≤—É–∫–æ–≤—ã–µ –∫–∞—Ä—Ç—ã, USB-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –∫–æ—Ç–æ—Ä—ã–π –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º (`active session`).
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è —ç—Ç–æ–≥–æ `ACL` (Access Control Lists) –Ω–∞ —Ñ–∞–π–ª—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

3.  **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –ø–∏—Ç–∞–Ω–∏—è:**
    - –†–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ –ø–∏—Ç–∞–Ω–∏—è –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –∫—Ä—ã—à–∫–∏ –Ω–æ—É—Ç–±—É–∫–∞.
    - –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è (—Å–æ–Ω, –≥–∏–±–µ—Ä–Ω–∞—Ü–∏—è, –≤—ã–∫–ª—é—á–µ–Ω–∏–µ) —á–µ—Ä–µ–∑ `logind.conf`.

4.  **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Polkit:**
    - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç D-Bus API, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä–æ–µ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, GUI-—É—Ç–∏–ª–∏—Ç—ã) –º–æ–≥—É—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `loginctl reboot`).
    - `Polkit` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∏–º–µ–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤–æ –Ω–∞ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ.

### –°–µ—Å—Å–∏–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –º–µ—Å—Ç–∞ (Seats)

`logind` –æ–ø–µ—Ä–∏—Ä—É–µ—Ç —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–æ–Ω—è—Ç–∏—è–º–∏:

- **User:** –£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. `logind` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Å–µ—Å—Å–∏–∏, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ –æ–¥–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
- **Session:** –û–¥–∏–Ω —Å–µ–∞–Ω—Å —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –£ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Å—Å–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–Ω–∞ –≤ TTY1, –¥—Ä—É–≥–∞—è –ø–æ SSH, —Ç—Ä–µ—Ç—å—è –≤ GNOME).
- **Seat:** "–†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ", —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑ –Ω–∞–±–æ—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –º—ã—à—å, –º–æ–Ω–∏—Ç–æ—Ä). –û–±—ã—á–Ω–æ –≤ —Å–∏—Å—Ç–µ–º–µ –æ–¥–Ω–æ –º–µ—Å—Ç–æ (`seat0`), –Ω–æ `logind` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏ –º—É–ª—å—Ç–∏-—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

---

## üõ†Ô∏è `loginctl`: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ `logind`

`loginctl` ‚Äî —ç—Ç–æ —É—Ç–∏–ª–∏—Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ `logind`.

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–µ–∫—É—â–∏–µ —Å–µ—Å—Å–∏–∏
# loginctl list-sessions
   SESSION UID USER  SEAT  TTY
        c1 120 gdm   seat0 /dev/tty1
         2 1000 user seat0 /dev/tty2

# –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏
# loginctl session-status 2
2 - user (1000)
           Since: –í—Ç 2025-07-29 10:30:00 MSK; 1h 10min ago
          Leader: 1234 (login)
            Seat: seat0; vc4
         Display: :0
         Service: gdm-password;
         Desktop: gnome
           State: active

# –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
# loginctl user-status user
user (1000)
           Since: –í—Ç 2025-07-29 10:30:00 MSK; 1h 11min ago
           State: active
        Sessions: *2
          Linger: no

# –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ "–º–µ—Å—Ç–∞—Ö"
# loginctl list-seats
SEAT  
seat0 
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π

`loginctl` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π, —á–µ—Ä–µ–∑ `Polkit`.

```bash
# –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ–ø—Ä–æ—Å–∏—Ç –ø–∞—Ä–æ–ª—å, –µ—Å–ª–∏ –≤—ã –Ω–µ root)
loginctl terminate-session 2

# "–£–±–∏—Ç—å" –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
loginctl kill-user user

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
loginctl reboot

# –í—ã–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
loginctl poweroff

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≤ —Å–æ–Ω
loginctl suspend
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: `/etc/systemd/logind.conf`

–≠—Ç–æ—Ç —Ñ–∞–π–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ `logind`.

**–ü—Ä–∏–º–µ—Ä—ã –æ–ø—Ü–∏–π:**

```ini
# –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –ø–∏—Ç–∞–Ω–∏—è
HandlePowerKey=poweroff

# –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –∫—Ä—ã—à–∫–∏ –Ω–æ—É—Ç–±—É–∫–∞
HandleLidSwitch=suspend

# –ó–∞–≤–µ—Ä—à–∞—Ç—å –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –µ–≥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ—Å—Å–∏–∏
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `yes`. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ `no` –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "lingering".
KillUserProcesses=yes

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
UserTasksMax=10000
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å:
`systemctl restart systemd-logind`

### Linger: –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞–º –∂–∏—Ç—å –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ—Å—Å–∏–∏, `logind` —É–±–∏–≤–∞–µ—Ç –≤—Å–µ –µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å—ã. –ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Ü–µ—Å—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `screen` –∏–ª–∏ `tmux`) –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å.

–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å "–¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–µ–±—ã–≤–∞–Ω–∏–µ" (linger) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
# –í–∫–ª—é—á–∏—Ç—å linger –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `user`
loginctl enable-linger user

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
loginctl user-status user | grep Linger
# Linger: yes
```

–¢–µ–ø–µ—Ä—å –ø—Ä–æ—Ü–µ—Å—Å—ã —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –±—É–¥—É—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –µ–≥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.
