---
title: –°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã
---

# üìû –°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã (Syscalls)

!!! info "–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤?"
    **–°–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (userspace) –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É —è–¥—Ä–∞ Linux –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫—É—é-–ª–∏–±–æ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é. –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ª–µ–≥–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã: —Ñ–∞–π–ª–∞–º–∏, —Å–µ—Ç—å—é, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.

–ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–∏—Å–∞—Ç—å –Ω–∞ –¥–∏—Å–∫ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–∫–µ—Ç—ã –≤ —Å–µ—Ç—å. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω –ø—Ä–æ—Å–∏—Ç —è–¥—Ä–æ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –∑–∞ –Ω–µ–≥–æ —á–µ—Ä–µ–∑ syscall.

---

## üîÑ –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã

1.  **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–∏—Ç –∑–∞–ø—Ä–æ—Å:**
    - –ù–æ–º–µ—Ä —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Ä–µ–≥–∏—Å—Ç—Ä `rax`.
    - –ê—Ä–≥—É–º–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å–æ–∫–µ—Ç–∞) –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –¥—Ä—É–≥–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã (`rdi`, `rsi`, `rdx` –∏ —Ç.–¥.).

2.  **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `syscall`:**
    - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é `syscall`.
    - –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç **–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ**, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è–¥—Ä—É.

3.  **–Ø–¥—Ä–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞–±–æ—Ç—É:**
    - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ —è–¥—Ä–µ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –Ω–æ–º–µ—Ä –≤ `rax` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sys_open`, `sys_write`).
    - –Ø–¥—Ä–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

4.  **–í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
    - –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∏–ª–∏ –∫–æ–¥ –æ—à–∏–±–∫–∏) –ø–æ–º–µ—â–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ä–µ–≥–∏—Å—Ç—Ä `rax`.
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

!!! success "–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è DevOps?"
    –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ–≥–¥–∞ –∏—Ö –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–µ—Ç, —Ç–æ—Ä–º–æ–∑–∏—Ç –∏–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É, `strace` –ø–æ–∫–∞–∂–µ—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ–Ω–æ –ø—ã—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å –∏ –∫–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—É—á–∏–ª–æ –æ—Ç —è–¥—Ä–∞.

---

## üõ†Ô∏è `strace`: –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

!!! info "`strace` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç –≤—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å, –∞ —Ç–∞–∫–∂–µ —Å–∏–≥–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç."

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- **–ù–∞–π—Ç–∏, –∫–∞–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏—â–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
  ```bash
  strace -e trace=open,openat my_app
  # openat(AT_FDCWD, "/etc/my_app.conf", O_RDONLY) = -1 ENOENT (No such file or directory)
  # openat(AT_FDCWD, "/home/user/.config/my_app.conf", O_RDONLY) = 3
  ```
  *–í—ã–≤–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ—Ç –∫–æ–Ω—Ñ–∏–≥ –≤ `/etc`, –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –µ–≥–æ (`ENOENT`), –∞ –∑–∞—Ç–µ–º —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.* 

- **–ü–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ç–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
  ```bash
  strace -e trace=connect,bind nc google.com 81
  # connect(3, {sa_family=AF_INET, sin_port=htons(81), sin_addr=inet_addr("142.250.186.78")}, 16) = -1 ETIMEDOUT (Connection timed out)
  ```
  *–í–∏–¥–Ω–æ, —á—Ç–æ –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (`connect`) –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –æ—à–∏–±–∫–æ–π `ETIMEDOUT`.* 

- **–û—Ç–ª–∞–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞:**
  ```bash
  strace -e trace=file -p <PID>
  # openat(AT_FDCWD, "/var/log/secret.log", O_RDONLY) = -1 EACCES (Permission denied)
  ```
  *–ü—Ä–æ—Ü–µ—Å—Å –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª, –Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫—É `EACCES` (–æ—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ).* 

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–ª–∞–≥–∏ `strace`

| –§–ª–∞–≥              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                              |
|-------------------|-------------------------------------------------------------------------|
| `-p <PID>`        | –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É.                                |
| `-f`              | –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –ø–æ—Ç–æ–∫–∏. **(–û—á–µ–Ω—å –≤–∞–∂–Ω–æ!)**           |
| `-e trace=<set>`  | –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –≤—ã–∑–æ–≤–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `file`, `network`). |
| `-o <file>`       | –ó–∞–ø–∏—Å–∞—Ç—å –≤—ã–≤–æ–¥ –≤ —Ñ–∞–π–ª.                                                  |
| `-t` / `-tt` / `-ttt` | –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∫ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ.                               |
| `-s <size>`       | –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≤—ã–≤–æ–¥–∏–º—ã—Ö —Å—Ç—Ä–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±—Ä–µ–∑–∞—é—Ç—Å—è).             |
| `-C`              | –ü–æ–∫–∞–∑–∞—Ç—å —Å—É–º–º–∞—Ä–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—ã–∑–æ–≤–∞–º.                               |

---

## üìú –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è         | –ü—Ä–∏–º–µ—Ä—ã –≤—ã–∑–æ–≤–æ–≤                      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                    |
|-------------------|--------------------------------------|-----------------------------------------------|
| **–§–∞–π–ª–æ–≤—ã–µ**      | `open`, `read`, `write`, `close`, `stat` | –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏.              |
| **–ü—Ä–æ—Ü–µ—Å—Å—ã**      | `fork`, `execve`, `wait4`, `exit`    | –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.             |
| **–°–µ—Ç—å**          | `socket`, `bind`, `listen`, `accept`, `connect` | –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏. |
| **–ü–∞–º—è—Ç—å**        | `brk`, `mmap`, `munmap`              | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç—å—é –ø—Ä–æ—Ü–µ—Å—Å–∞.       |
| **–°–∏–≥–Ω–∞–ª—ã**       | `kill`, `sigaction`                  | –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤.                |
| **–ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (IPC)** | `pipe`, `shmget` | –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.               |

---

## `seccomp` –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

!!! danger "`seccomp` (secure computing mode) ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —è–¥—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –Ω–∞–±–æ—Ä —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å—É."

- –≠—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **–ø–µ—Å–æ—á–Ω–∏—Ü (sandboxes)**.
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–π syscall, –æ–Ω –±—É–¥–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω —è–¥—Ä–æ–º.
- Docker –∏ Kubernetes –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `seccomp` –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –û–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –Ω–∞–∏–±–æ–ª–µ–µ –æ–ø–∞—Å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã, —Å–Ω–∏–∂–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏ –Ω–∞ —è–¥—Ä–æ.

–î–ª—è DevOps-–∏–Ω–∂–µ–Ω–µ—Ä–∞ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å –æ `seccomp`, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π `seccomp`-–ø—Ä–æ—Ñ–∏–ª—å –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –ª–µ–≥–∏—Ç–∏–º–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ–º—É –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤.
- –û—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å `seccomp`, –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ –ø–∞–¥–∞–µ—Ç –±–µ–∑ –≤–Ω—è—Ç–Ω–æ–≥–æ –ª–æ–≥–∞. –í `dmesg` –ø—Ä–∏ —ç—Ç–æ–º –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ `seccomp`.
