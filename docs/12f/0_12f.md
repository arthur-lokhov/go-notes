---
title: –ß—Ç–æ —Ç–∞–∫–æ–µ 12-Factor App
---
# üèõÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ 12-Factor App

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —ç–ø–æ—Ö—É –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ —É—Å–ª—É–≥–∞: —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ "–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –∫–∞–∫ —É—Å–ª—É–≥–∞" (SaaS).

**–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - —ç—Ç–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è SaaS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ:

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –∏ –∑–∞—Ç—Ä–∞—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—é—â–∏—Ö—Å—è –∫ –ø—Ä–æ–µ–∫—Ç—É;
- –ò–º–µ—é—Ç —á–∏—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å –±–∞–∑–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É —Å—Ä–µ–¥–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è;
- –ü–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±–ª–∞—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö, –∏–∑–±–∞–≤–ª—è—è –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏ —Å–∏—Å—Ç–µ–º–Ω–æ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏;
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏;
- –ò –º–æ–≥—É—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–µ–∑ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏–ª–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏ —Ñ–∞–∫—Ç–æ—Ä–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–º –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∏ –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª—é–±—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –æ—á–µ—Ä–µ–¥—å, –∫—ç—à –≤ –ø–∞–º—è—Ç–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ).

---

## üì¶ –ö–æ–¥–æ–≤–∞—è –±–∞–∑–∞ (Codebase)

!!! tip "–û–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º–∞—è –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π, –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π."

–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π, —Ç–∞–∫–æ–π –∫–∞–∫ Git.
–ö–æ–ø–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ–≤–∏–∑–∏–π –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞–∫ **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–æ–¥–∞**, —á–∞—Å—Ç–æ —Å–æ–∫—Ä–∞—â–∞–µ–º—ã–π –¥–æ "—Ä–µ–ø–æ".

**–ö–æ–¥–æ–≤–∞—è –±–∞–∑–∞** - —ç—Ç–æ –ª—é–±–æ–π –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Git, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

!!! info "–í—Å–µ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–¥–æ–≤–æ–π –±–∞–∑–æ–π –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º."

    - –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–¥–æ–≤—ã—Ö –±–∞–∑, —ç—Ç–æ –Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äì —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞. –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∏ –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –º–æ–∂–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º.
    - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥, —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏ —Ñ–∞–∫—Ç–æ—Ä–æ–≤. –†–µ—à–µ–Ω–∏–µ –∑–¥–µ—Å—å ‚Äì –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–π –∫–æ–¥ –≤ Go-–º–æ–¥—É–ª–∏ –∏–ª–∏ –ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

–î–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞, –Ω–æ –±—É–¥–µ—Ç –º–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

<div align="center" style="background-color: white;">
    <img src="https://12factor.net/images/codebase-deploys.png" alt="codebase image"/>
</div>

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** - —ç—Ç–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–û–±—ã—á–Ω–æ —ç—Ç–æ –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–∞–π—Ç –∏ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–µ–π–¥–∂–∏–Ω–≥-—Å–∞–π—Ç–æ–≤.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, —É –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –µ—Å—Ç—å –∫–æ–ø–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –≤ –µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ç–∞–∫–∂–µ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.

–ö–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π, —Ö–æ—Ç—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏.
–ù–∞–ø—Ä–∏–º–µ—Ä:

- —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏–º–µ–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–º–∏—Ç—ã, –µ—â–µ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –Ω–∞ —Å—Ç–µ–π–¥–∂–∏–Ω–≥;
- –Ω–∞ —Å—Ç–µ–π–¥–∂–∏–Ω–≥–µ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–º–∏—Ç—ã, –µ—â–µ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω.

–ù–æ –≤—Å–µ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∫–æ–¥–æ–≤—É—é –±–∞–∑—É, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ–º—ã–º–∏ –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π –ø—Ä–∏–Ω—è—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (SemVer)**.
–í—ã –ø–æ–º–µ—á–∞–µ—Ç–µ (tag) –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã –≤ Git, —á—Ç–æ–±—ã –æ–±–æ–∑–Ω–∞—á–∏—Ç—å –≤–µ—Ä—Å–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä: `v1.0.0`, `v1.0.1`, `v2.0.0`.

```bash
# –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–≥–∞ –≤ Git
git commit -m "Implement user registration"
git tag v1.0.0
git push origin v1.0.0

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–≥–æ–≤
git tag
# v1.0.0
# v1.0.1
# v2.0.0
```

!!! info "–ü—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ —Å—Ç–µ–π–¥–∂–∏–Ω–≥ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–≥ `v1.0.0-rc.1` (release candidate), –∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω ‚Äì `v1.0.0`."

---

## üß© –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Dependencies)

!!! tip "–Ø–≤–Ω–æ –æ–±—ä—è–≤–ª—è–π—Ç–µ –∏ –∏–∑–æ–ª–∏—Ä—É–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏."

–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—è–≤–Ω–æ–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.
–û–Ω–æ –æ–±—ä—è–≤–ª—è–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏ —Ç–æ—á–Ω–æ, —á–µ—Ä–µ–∑ –º–∞–Ω–∏—Ñ–µ—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
–ë–æ–ª–µ–µ —Ç–æ–≥–æ, –æ–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–∑–æ–ª—è—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –Ω–∏–∫–∞–∫–∏–µ –Ω–µ—è–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ "–ø—Ä–æ—Å–æ—á–∞—Ç—Å—è" –∏–∑ –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã.

–û–¥–Ω–∏–º –∏–∑ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ —è–≤–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –æ–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –Ω–æ–≤—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
–ù–æ–≤—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Å–≤–æ—é –º–∞—à–∏–Ω—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç—Ä–µ–±—É—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–∞–Ω—Ç–∞–π–º Go.
–û–Ω —Å–º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –¥–µ—Ç–µ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–∞–Ω–¥–∞ —Å–±–æ—Ä–∫–∏ –¥–ª—è Go-–ø—Ä–æ–µ–∫—Ç–∞ - `go mod tidy` –∏ `go build`.

–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç–∞–∫–∂–µ –Ω–µ –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ –Ω–µ—è–≤–Ω–æ–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–∞–∫–∏—Ö-–ª–∏–±–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.
–ü—Ä–∏–º–µ—Ä—ã –≤–∫–ª—é—á–∞—é—Ç –≤—ã–∑–æ–≤ ImageMagick –∏–ª–∏ `curl`.
–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ª–∏–±–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –∫–∞–∫ –≤–Ω–µ—à–Ω—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ü–µ–ª–µ–≤–æ–π —Å—Ä–µ–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Docker-–æ–±—Ä–∞–∑–µ).

??? info "Go –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è–º–∏, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ª–∏—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —ç—Ç–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É."

    - **–Ø–≤–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ**: Go Modules –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã `go.mod` –∏ `go.sum` –¥–ª—è —è–≤–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∏—Ö –≤–µ—Ä—Å–∏–π.
    - **–ò–∑–æ–ª—è—Ü–∏—è**: Go Modules –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∫—ç—à –º–æ–¥—É–ª–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `$GOPATH/pkg/mod`), –∏ –∫–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —Å–æ —Å–≤–æ–∏–º–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é.
    **–í–µ–Ω–¥–æ—Ä–∏–∑–∞—Ü–∏—è** (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –∫–∞—Ç–∞–ª–æ–≥ `vendor`) —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–∞ —Å –ø–æ–º–æ—â—å—é `go mod vendor`, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∫–∏ –∏–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Å—Ä–µ–¥–∞—Ö —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ —Å–µ—Ç–∏.

    ```go
    module github.com/your-org/my-go-app

    go 1.22

    require (
        github.com/gorilla/mux v1.8.1 // –í–µ–±-—Ä–æ—É—Ç–µ—Ä
        github.com/sirupsen/logrus v1.9.3 // –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        github.com/lib/pq v1.10.9 // –î—Ä–∞–π–≤–µ—Ä PostgreSQL
        golang.org/x/crypto v0.25.0 // –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —É—Ç–∏–ª–∏—Ç—ã
    )

    require (
        github.com/felixge/httpsnoop v1.0.4 // indirect
        golang.org/x/sys v0.22.0 // indirect
    )
    ```

    –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±—ã–ª–∏ –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Å–±–æ—Ä–∫–∏:

    ```bash
    go mod vendor # –°–æ–∑–¥–∞—Å—Ç –∫–∞—Ç–∞–ª–æ–≥ `vendor/` —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
    go build -mod=vendor -o myapp . # –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–ø–∏–π
    ```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Config)

!!! tip "–•—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏."

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - —ç—Ç–æ –≤—Å–µ, —á—Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è–º–∏.

–≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:

- –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, Redis –∏ –¥—Ä—É–≥–∏—Ö –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤;
- –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ Amazon S3 –∏–ª–∏ Twitter;
- –ó–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –∏–º—è —Ö–æ—Å—Ç–∞ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–Ω–æ–≥–¥–∞ —Ö—Ä–∞–Ω—è—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–∞–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –∫–æ–¥–µ. –≠—Ç–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏ —Ñ–∞–∫—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∫–æ–¥–∞.
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è–º–∏, –∫–æ–¥ - –Ω–µ—Ç.

–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –≤—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—ã–Ω–µ—Å–µ–Ω–∞ –∏–∑ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, –º–æ–∂–Ω–æ –ª–∏ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –±–µ–∑ —É—â–µ—Ä–±–∞ –¥–ª—è —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

!!! warning "–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏` –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–∞–∫—É—é –∫–∞–∫ –ª–æ–≥–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤ Go. –¢–∞–∫ –∫–∞–∫ —Ç–∞–∫–æ–π —Ç–∏–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è–º–∏, –ª—É—á—à–µ –≤—Å–µ–≥–æ –¥–µ–ª–∞—Ç—å –µ–≥–æ –≤ –∫–æ–¥–µ."

–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è** (—á–∞—Å—Ç–æ —Å–æ–∫—Ä–∞—â–∞–µ–º—ã—Ö –¥–æ `env vars` –∏–ª–∏ `env`).
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å –º–µ–∂–¥—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è–º–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –∫–æ–¥–∞.

??? "–í Go –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ `os`, –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ç–∞–∫–∏—Ö –∫–∞–∫ `spf13/viper` –∏–ª–∏ `kelseyhightower/envconfig`."

    ```go
    package main

    import (
        "fmt"
        "log"
        "os"
        "strconv"
    )

    // Config - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    type Config struct {
        Port        int
        DatabaseURL string
        APIKey      string
        DebugMode   bool
    }

    // LoadConfig –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
    func LoadConfig() (*Config, error) {
        cfg := &Config{}

        // –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, PORT=8080)
        portStr := os.Getenv("PORT")
        if portStr == "" {
            portStr = "8080" // –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        }
        port, err := strconv.Atoi(portStr)
        if err != nil {
            return nil, fmt.Errorf("–Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ PORT: %w", err)
        }
        cfg.Port = port

        // –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
        dbURL := os.Getenv("DATABASE_URL")
        if dbURL == "" {
            return nil, fmt.Errorf("DATABASE_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
        }
        cfg.DatabaseURL = dbURL

        // –ö–ª—é—á API –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
        apiKey := os.Getenv("EXTERNAL_SERVICE_API_KEY")
        if apiKey == "" {
            // –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∏–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
            log.Println("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: EXTERNAL_SERVICE_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.")
        }
        cfg.APIKey = apiKey

        // –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, DEBUG_MODE=true)
        debugModeStr := os.Getenv("DEBUG_MODE")
        cfg.DebugMode = (debugModeStr == "true")

        return cfg, nil
    }

    func main() {
        cfg, err := LoadConfig()
        if err != nil {
            log.Fatalf("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: %v", err)
        }

        fmt.Printf("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É: %d\n", cfg.Port)
        fmt.Printf("–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: %s\n", cfg.DatabaseURL)
        fmt.Printf("API –∫–ª—é—á –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞: %s\n", cfg.APIKey)
        fmt.Printf("–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏: %t\n", cfg.DebugMode)

        // ... –¥–∞–ª—å–Ω–µ–π—à–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è
    }
    ```

    –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

    ```bash
    PORT=8081 DATABASE_URL="postgres://user:pass@host:port/dbname" EXTERNAL_SERVICE_API_KEY="your_secret_key" DEBUG_MODE="true" go run main.go
    ```

---

## üîå –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (Backing Services)

!!! tip "–û–±—Ä–∞—â–∞–π—Ç–µ—Å—å —Å–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∫–∞–∫ —Å –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏."

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å** - —ç—Ç–æ –ª—é–±–æ–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —á–µ—Ä–µ–∑ —Å–µ—Ç—å –∫–∞–∫ —á–∞—Å—Ç—å —Å–≤–æ–µ–π —Å–∏—Å—Ç–µ–º—ã.
–ù–∞–ø—Ä–∏–º–µ—Ä:

- **–•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL, MongoDB;
- **–°–∏—Å—Ç–µ–º—ã –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏/–æ—á–µ—Ä–µ–¥–µ–π**: RabbitMQ, Apache Kafka;
- **SMTP-—Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏—Å—Ö–æ–¥—è—â–µ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã**: Postmark;
- **–°–∏—Å—Ç–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**: Redis, Memcached.

–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –¥–µ–ª–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.
–î–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–±–∞ —è–≤–ª—è—é—Ç—Å—è **–ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏**, –¥–æ—Å—Ç—É–ø –∫ –∫–æ—Ç–æ—Ä—ã–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ URL –∏–ª–∏ –¥—Ä—É–≥–∏–µ –ª–æ–∫–∞—Ç–æ—Ä—ã/—É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è).

<div align="center" style="background-color: white;">
    <img src="https://12factor.net/images/attached-resources.png" alt="codebase image"/>
</div>

–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —É–ø—Ä–∞–≤–ª—è–µ–º—É—é —Ç—Ä–µ—Ç—å–µ–π —Å—Ç–æ—Ä–æ–Ω–æ–π (Amazon RDS, Google Cloud SQL), –±–µ–∑ –∫–∞–∫–∏—Ö –ª–∏–±–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –ª–æ–∫–∞–ª—å–Ω—ã SMTP-—Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º SMTP-—Å–µ—Ä–≤–∏—Å–æ–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞.

??? "–í Go —ç—Ç–æ –æ–∑–Ω–∞—á–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º."

    –ë–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL, –æ–±–ª–∞—á–Ω—ã–º —Å–µ—Ä–≤–∏—Å–æ–º PostgreSQL, –∏–ª–∏ –¥–∞–∂–µ —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–µ `DATABASE_URL`, –Ω–µ –∏–∑–º–µ–Ω—è—è –∫–æ–¥.
    
    –¢–æ–∂–µ —Å–∞–º–æ–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ Redis, RabbitMQ –∏–ª–∏ –ª—é–±—ã–º –¥—Ä—É–≥–∏–º –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º.

    ```go
    package main

    import (
        "database/sql"
        "fmt"
        "log"
        "os"
        "time"

        _ "github.com/lib/pq" // –î—Ä–∞–π–≤–µ—Ä PostgreSQL
        "github.com/go-redis/redis/v8" // –ö–ª–∏–µ–Ω—Ç Redis
        "context"
    )

    func main() {
        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
        dbURL := os.Getenv("DATABASE_URL")
        if dbURL == "" {
            log.Fatal("DATABASE_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.")
        }

        db, err := sql.Open("postgres", dbURL)
        if err != nil {
            log.Fatalf("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL: %v", err)
        }
        defer db.Close()

        db.SetMaxOpenConns(25) // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
        db.SetMaxIdleConns(25)
        db.SetConnMaxLifetime(5 * time.Minute)

        err = db.Ping()
        if err != nil {
            log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL: %v", err)
        }
        fmt.Println("–£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL!")

        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
        redisAddr := os.Getenv("REDIS_ADDR")
        if redisAddr == "" {
            log.Fatal("REDIS_ADDR –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.")
        }

        ctx := context.Background()
        rdb := redis.NewClient(&redis.Options{
            Addr: redisAddr,
            Password: os.Getenv("REDIS_PASSWORD"), // –ü–∞—Ä–æ–ª—å, –µ—Å–ª–∏ –µ—Å—Ç—å
            DB: 0, // –ù–æ–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        })

        _, err = rdb.Ping(ctx).Result()
        if err != nil {
            log.Fatalf("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis: %v", err)
        }
        fmt.Println("–£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis!")

        // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redis
        err = rdb.Set(ctx, "mykey", "myvalue", 0).Err()
        if err != nil {
            log.Printf("–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ Redis: %v", err)
        } else {
            val, _ := rdb.Get(ctx, "mykey").Result()
            fmt.Printf("–ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑ Redis: %s\n", val)
        }

        // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, RabbitMQ:
        // amqpURL := os.Getenv("RABBITMQ_URL")
        // if amqpURL == "" { log.Fatal("RABBITMQ_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.") }
        // conn, err := amqp.Dial(amqpURL)
        // if err != nil { log.Fatalf("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ: %v", err) }
        // defer conn.Close()
        // fmt.Println("–£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ RabbitMQ!")
    }
    ```

---

## üèóÔ∏è –°–±–æ—Ä–∫–∞, —Ä–µ–ª–∏–∑, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (Build, release, run)

!!! tip "–°—Ç—Ä–æ–≥–æ —Ä–∞–∑–¥–µ–ª—è–π—Ç–µ —ç—Ç–∞–ø—ã —Å–±–æ—Ä–∫–∏, –≤—ã–ø—É—Å–∫–∞ –∏ –∑–∞–ø—É—Å–∫–∞."

–ö–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –ø–µ—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç—Ä–∏ —Å—Ç–∞–¥–∏–∏:

1. **–°—Ç–∞–¥–∏—è —Å–±–æ—Ä–∫–∏** - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–æ–¥–∞ –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –ø–∞–∫–µ—Ç, –∏–∑–≤–µ—Å—Ç–Ω—ã –∫–∞–∫ **—Å–±–æ—Ä–∫–∞** (build).
2. **–°—Ç–∞–¥–∏—è –≤—ã–ø—É—Å–∫–∞** - –±–µ—Ä–µ—Ç —Å–±–æ—Ä–∫—É, –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–Ω—É—é –Ω–∞ —Å—Ç–∞–¥–∏–∏ —Å–±–æ—Ä–∫–∏, –∏ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –µ–µ —Å —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è. –ü–æ–ª—É—á–µ–Ω–Ω—ã **–≤—ã–ø—É—Å–∫** (release) —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–∫ —Å–±–æ—Ä–∫—É, —Ç–∞–∫ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –∏ –≥–æ—Ç–æ–≤ –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –≤ —Å—Ä–µ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
3. **–°—Ç–∞–¥–∏—è –∑–∞–ø—É—Å–∫–∞** - –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Å—Ä–µ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∑–∞–ø—É—Å–∫–∞—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –≤—ã–ø—É—Å–∫–µ. –î–∞–Ω–Ω–∞—è —Å—Ç–∞–¥–∏—è –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞–∫ **—Ä–∞–Ω—Ç–∞–π–º**.

–ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–±–æ—Ä–∫–æ–π, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–ø—É—Å–∫–∞.

<div align="center" style="background-color: white;">
    <img src="https://12factor.net/images/release.png" alt="codebase image"/>
</div>

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø—É—Å–∫–∞–º–∏, –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –≤—ã–ø—É—Å–∫—É.
–ö–∞–∂–¥—ã–π –≤—ã–ø—É—Å–∫ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤—ã–ø—É—Å–∫–∞, —Ç–∞–∫–æ–π –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –≤—ã–ø—É—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2024-07-13-10:30:00`) –∏–ª–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–∏ –Ω–æ–º–µ—Ä/—Ç–µ–≥ Git (–Ω–∞–ø—Ä–∏–º–µ—Ä, `v1.0.0`).

!!! warning "–í—ã–ø—É—Å–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –∂—É—Ä–Ω–∞–ª —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∑–∞–ø–∏—Å–µ–π, –∏ –≤—ã–ø—É—Å–∫ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω –ø–æ—Å–ª–µ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è. –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –≤—ã–ø—É—Å–∫."

??? "–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è Go."

    - **–°–±–æ—Ä–∫–∞ (Build)**: –í Go —ç—Ç–∞–ø –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ—Å—Ç–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª.
    –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –±–ª–∞–≥–æ–¥–∞—Ä—è Go Modules.

        ```go
        # –ù–∞ —Å—Ç–∞–¥–∏–∏ —Å–±–æ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–µ)
        # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã
        go mod tidy
        # –ö–æ–º–ø–∏–ª—è—Ü–∏—è –¥–ª—è Linux AMD64
        GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -ldflags="-s -w" -o bin/myapp ./cmd/web # -ldflags –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
        # –†–µ–∑—É–ª—å—Ç–∞—Ç: –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª 'bin/myapp'
        ```
    - **–í—ã–ø—É—Å–∫ (Release)**: –í—ã–ø—É—Å–∫ - —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –≤–º–µ—Å—Ç–µ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è).
    –õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø—É—Å–∫ –¥–ª—è Go-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - —ç—Ç–æ **Docker-–æ–±—Ä–∞–∑**.

        ```Dockerfile
        # Dockerfile –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–∞ –≤—ã–ø—É—Å–∫–∞
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
        FROM alpine:3.20

        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        WORKDIR /app

        # –ö–æ–ø–∏—Ä—É–µ–º —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏–∑ —Å—Ç–∞–¥–∏–∏ —Å–±–æ—Ä–∫–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ multi-stage build)
        # –ò–ª–∏, –µ—Å–ª–∏ –æ–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –Ω–∞ —Ö–æ—Å—Ç–µ:
        COPY bin/myapp .

        # –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        EXPOSE 8080

        # –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        CMD ["./myapp"]
        ```
    –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–∑ Docker —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ç–µ–≥–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤—ã–ø—É—Å–∫.

    - **–ó–∞–ø—É—Å–∫ (Run)**: –ó–∞–ø—É—Å–∫ - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Docker (–∏–ª–∏ –Ω–∞ –í–ú) —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. 

        ```bash
        # –ó–∞–ø—É—Å–∫ –≤—ã–ø—É—Å–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
        docker run -p 8080:8080 -e DATABASE_URL="postgres://user:pass@host:port/dbname" yourorg/myapp:v1.0.0

        # –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –≤ Kubernetes:
        # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Deployment
        apiVersion: apps/v1
        kind: Deployment
        metadata:
          name: myapp-web
        spec:
          replicas: 3
          selector:
            matchLabels:
              app: myapp
              tier: web
          template:
            metadata:
              labels:
                app: myapp
                tier: web
            spec:
              containers:
              - name: myapp
                image: yourorg/myapp:v1.0.0 # –£–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ–≥ –≤—ã–ø—É—Å–∫–∞
                ports:
                - containerPort: 8080
                env:
                - name: DATABASE_URL
                  valueFrom:
                    secretKeyRef:
                      name: db-credentials
                      key: url
                - name: PORT
                  value: "8080"
        ```

---

## üßµ –ü—Ä–æ—Ü–µ—Å—Å—ã (Processes)

!!! tip "–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ stateless-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤."

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
–ü—Ä–æ—Ü–µ—Å—Å—ã **–Ω–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è (stateless)** –∏ **–Ω–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –æ–±—â–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (share-nothing)**.
–õ—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ **–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ**, –æ–±—ã—á–Ω–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –∫—ç—à–µ.

!!! info "–û–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –∏–ª–∏ —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ, –æ–¥–Ω–∞—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫—ç—à–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–∑–∂–µ –µ–≥–æ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö."

–õ—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤–æ –≤–Ω–µ—à–Ω–∏—Ö, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â–∞—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ Redis.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –¥–æ–±–∞–≤–ª—è—è –Ω–æ–≤—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–∞–Ω–∏—è "–ª–∏–ø–∫–∏—Ö —Å–µ—Å—Å–∏–π".

??? "–í Go –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –Ω–µ –∏–º–µ—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è, –µ—Å–ª–∏ –≤—ã —è–≤–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏."

    –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å stateless-–ø–æ–¥—Ö–æ–¥:

    - **–ò–∑–±–µ–≥–∞–π—Ç–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞**;
    - **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è**.

    –ö–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `myapp` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º, —á—Ç–æ–±—ã –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –º–æ–≥ –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω –ª—é–±—ã–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–∏ –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
    –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç —Ç–æ–≥–æ, —á—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤–æ –≤–Ω–µ—à–Ω–µ–º Redis, –∞ –Ω–µ –≤ –ø–∞–º—è—Ç–∏ —Å–∞–º–æ–≥–æ Go-–ø—Ä–æ—Ü–µ—Å—Å–∞.

    ```go
    package main

    import (
        "context"
        "fmt"
        "log"
        "net/http"
        "os"
        "time"

        "github.com/go-redis/redis/v8" // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redis –¥–ª—è —Å–µ—Å—Å–∏–π
        "github.com/google/uuid" // –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID —Å–µ—Å—Å–∏–π
    )

    var (
        redisClient *redis.Client
        ctx = context.Background()
    )

    func init() {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Redis –∫–ª–∏–µ–Ω—Ç–∞
        redisAddr := os.Getenv("REDIS_ADDR")
        if redisAddr == "" {
            log.Println("REDIS_ADDR –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—é localhost:6379")
            redisAddr = "localhost:6379"
        }
        redisClient = redis.NewClient(&redis.Options{
            Addr: redisAddr,
        })

        _, err := redisClient.Ping(ctx).Result()
        if err != nil {
            log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis: %v. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ Redis.", err)
        }
        fmt.Println("–£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis.")
    }

    func sessionHandler(w http.ResponseWriter, r *http.Request) {
        // –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å ID —Å–µ—Å—Å–∏–∏ –∏–∑ –∫—É–∫–∏
        sessionCookie, err := r.Cookie("session_id")
        var sessionID string
        if err != nil || sessionCookie.Value == "" {
            // –ï—Å–ª–∏ –∫—É–∫–∏ –Ω–µ—Ç –∏–ª–∏ –æ–Ω–∞ –ø—É—Å—Ç–∞, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π ID —Å–µ—Å—Å–∏–∏
            sessionID = uuid.New().String()
            http.SetCookie(w, &http.Cookie{
                Name:    "session_id",
                Value:   sessionID,
                Expires: time.Now().Add(24 * time.Hour),
                Path:    "/",
                HttpOnly: true,
            })
            log.Printf("–°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è: %s", sessionID)
        } else {
            sessionID = sessionCookie.Value
            log.Printf("–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–µ—Å—Å–∏—è: %s", sessionID)
        }

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –≤ Redis
        // –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π ID, –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ —Ç.–¥.
        userData := fmt.Sprintf("user_%s", sessionID[:8]) // –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
        err = redisClient.Set(ctx, "session:"+sessionID, userData, 1*time.Hour).Err()
        if err != nil {
            log.Printf("–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–∏ –≤ Redis: %v", err)
            http.Error(w, "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞", http.StatusInternalServerError)
            return
        }

        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –∏–∑ Redis
        val, err := redisClient.Get(ctx, "session:"+sessionID).Result()
        if err != nil {
            log.Printf("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–∏ –∏–∑ Redis: %v", err)
            http.Error(w, "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞", http.StatusInternalServerError)
            return
        }

        fmt.Fprintf(w, "–ü—Ä–∏–≤–µ—Ç! –í–∞—à ID —Å–µ—Å—Å–∏–∏: %s. –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ: %s\n", sessionID, val)
    }

    func main() {
        http.HandleFunc("/", sessionHandler)
        port := os.Getenv("PORT")
        if port == "" {
            port = "8080"
        }
        fmt.Printf("–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ :%s\n", port)
        log.Fatal(http.ListenAndServe(":"+port, nil))
    }
    ```

---

## üåê –ü—Ä–∏–≤—è–∑–∫–∞ –ø–æ—Ä—Ç–æ–≤ (Port binding)

!!! tip "–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ –ø—Ä–∏–≤—è–∑–∫—É –ø–æ—Ä—Ç–æ–≤, –∞ –Ω–µ —á–µ—Ä–µ–∑ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä."

–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –∏ –Ω–µ –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –∏–Ω—ä–µ–∫—Ü–∏—é –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –≤ —Å—Ä–µ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞.
–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç HTTP –∫–∞–∫ —Å–µ—Ä–≤–∏—Å, **–ø—Ä–∏–≤—è–∑—ã–≤–∞—è—Å—å –∫ –ø–æ—Ä—Ç—É** –∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—è –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —ç—Ç–æ–º –ø–æ—Ä—Ç—É.

–í –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ä–∞–∑—Ä–∞–±–æ—á–∏–∫ –ø–æ—Å–µ—â–∞–µ—Ç `http://localhost:8080/`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å—É, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ–º—É –µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.
–ü—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –∂–µ —É—Ä–æ–≤–µ–Ω—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞ –∫ –≤–µ–±-–ø—Ä–æ—Ü–µ—Å—Å–∞–º, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∫ –ø–æ—Ä—Ç—É.

!!! info "**HTTP** - –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –ø—Ä–∏–≤—è–∑–∫—É –ø–æ—Ä—Ç–æ–≤."

    –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ª—é–±–æ–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ü–µ—Å—Å—Å, –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—â–∏–π—Å—è –∫ –ø–æ—Ä—Ç—É –∏ –æ–∂–∏–¥–∞—é—â–∏–π –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã.

    –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å GRPC-—Ç—Ä–∞—Ñ–∏–∫, –∏–ª–∏ –¥–∞–∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª.

??? "Go-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π HTTP-—Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç."

    ```go
    package main

    import (
        "fmt"
        "log"
        "net/http"
        "os"
        "time" // –î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞
    )

    func main() {
        mux := http.NewServeMux() // –ò—Å–ø–æ–ª—å–∑—É–µ–º NewServeMux –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
        mux.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
            log.Printf("–ü–æ–ª—É—á–µ–Ω –∑–∞–ø—Ä–æ—Å –Ω–∞ %s –æ—Ç %s", r.URL.Path, r.RemoteAddr)
            fmt.Fprintln(w, "–ü—Ä–∏–≤–µ—Ç –æ—Ç –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–≥–æ Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!")
        })

        mux.HandleFunc("/healthz", func(w http.ResponseWriter, r *http.Request) {
            w.WriteHeader(http.StatusOK)
            fmt.Fprintln(w, "OK")
        })

        port := os.Getenv("PORT")
        if port == "" {
            port = "8080" // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ–º –ø–æ—Ä—Ç 8080
        }

        server := &http.Server{
            Addr:         ":" + port,
            Handler:      mux,
            ReadTimeout:  5 * time.Second,
            WriteTimeout: 10 * time.Second,
            IdleTimeout:  120 * time.Second,
        }

        fmt.Printf("–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É :%s\n", port)
        err := server.ListenAndServe()
        if err != nil && err != http.ErrServerClosed {
            log.Fatalf("–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: %v\n", err)
        }
    }
    ```

    –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–∂–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –ø–æ—Ä—Ç–æ–º –Ω–∞ —Ö–æ—Å—Ç–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ç–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –æ–±–ª–∞—á–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞:

    ```bash
    # –õ–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ Docker
    docker run -p 80:8080 myapp:latest # –•–æ—Å—Ç-–ø–æ—Ä—Ç 80 -> –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä-–ø–æ—Ä—Ç 8080

    # –í Kubernetes (Service –∏ Ingress –±—É–¥—É—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
    # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Service –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    apiVersion: v1
    kind: Service
    metadata:
      name: myapp-service
    spec:
      selector:
        app: myapp
      ports:
        - protocol: TCP
          port: 80 # –ü–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å Service
          targetPort: 8080 # –ü–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—à–∞–µ—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
      type: ClusterIP # –ò–ª–∏ LoadBalancer –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
    ```

---

## üß¨ –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (Concurrency)

!!! tip "–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è –º–æ–¥–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤."

–õ—é–±–∞—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –±—É–¥—É—á–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–π, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –æ–¥–Ω–∏–º –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.
–í –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã —è–≤–ª—è—é—Ç—Å—è **–ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏**.

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫, –Ω–∞–∑–Ω–∞—á–∞—è –∫–∞–∂–¥—ã–π —Ç–∏–ø —Ä–∞–±–æ—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ç–∏–ø—É –ø—Ä–æ—Ü–µ—Å—Å–∞.
–ù–∞–ø—Ä–∏–º–µ—Ä, HTTP-–∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –≤–µ–±-–ø—Ä–æ—Ü–µ—Å—Å–æ–º, –∞ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ - —Ä–∞–±–æ—á–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º (worker).

<div align="center" style="background-color: white;">
    <img src="https://12factor.net/images/process-types.png" alt="codebase image"/>
</div>

!!! warning "–≠—Ç–æ –Ω–µ –∏—Å–∫–ª—é—á–∞–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —á–µ—Ä–µ–∑ –≥–æ—Ä—É—Ç–∏–Ω—ã Go. –ù–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ç–∞–∫–∂–µ –±—ã—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ –æ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö."

–ú–æ–¥–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É —Å–∏—è–µ—Ç, –∫–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤—Ä–µ–º—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.
–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—â–µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ-—Ä–∞–∑–¥–µ–ª–∏–º–∞—è –ø—Ä–∏—Ä–æ–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–æ–ª—å—à–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç–∏ - –ø—Ä–æ—Å—Ç–∞—è –∏ –Ω–∞–¥–µ–∂–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è.
–ú–∞—Å—Å–∏–≤ —Ç–∏–ø–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–æ –∏–∑–≤–µ—Å—Ç–µ–Ω –∫–∞–∫ **—Ñ–æ—Ä–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞**.


–ü—Ä–æ—Ü–µ—Å—Å—ã –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –¥–µ–º–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–ª–∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å PID-—Ñ–∞–π–ª—ã.
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞–º–∏ –≤—ã–≤–æ–¥–∞, —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–±–æ–π–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º –∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫.

??? "–í Go —Å–æ–∑–¥–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã (–∏–ª–∏ –æ–¥–∏–Ω –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–¥–∫–æ–º–∞–Ω–¥–∞–º–∏), –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∑–∞–¥–∞—á."

    - **–í–µ–±-–ø—Ä–æ—Ü–µ—Å—Å (Web Process)**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã.

        ```go
        // cmd/web/main.go (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)
        package main

        import (
            "fmt"
            "log"
            "net/http"
            "os"
        )

        func main() {
            http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
                fmt.Fprintln(w, "–≠—Ç–æ –≤–µ–±-–ø—Ä–æ—Ü–µ—Å—Å!")
            })
            port := os.Getenv("PORT")
            if port == "" { port = "8080" }
            log.Printf("–í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ :%s\n", port)
            log.Fatal(http.ListenAndServe(":"+port, nil))
        }
        ```

    - **–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Worker Process)**: –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

        ```go
        // cmd/worker/main.go (–≤–æ—Ä–∫–µ—Ä)
        package main

        import (
            "context"
            "fmt"
            "log"
            "os"
            "os/signal"
            "syscall"
            "time"

            "github.com/streadway/amqp" // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è RabbitMQ
        )

        func main() {
            amqpURL := os.Getenv("AMQP_URL")
            if amqpURL == "" {
                log.Fatal("AMQP_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.")
            }

            conn, err := amqp.Dial(amqpURL)
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ RabbitMQ: %v", err)
            }
            defer conn.Close()

            ch, err := conn.Channel()
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª: %v", err)
            }
            defer ch.Close()

            q, err := ch.QueueDeclare(
                "tasks", // –ò–º—è –æ—á–µ—Ä–µ–¥–∏
                true,    // Durable
                false,   // Delete when unused
                false,   // Exclusive
                false,   // No-wait
                nil,     // Arguments
            )
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—ä—è–≤–∏—Ç—å –æ—á–µ—Ä–µ–¥—å: %v", err)
            }

            msgs, err := ch.Consume(
                q.Name, // queue
                "",     // consumer
                false,  // auto-ack (false –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)
                false,  // exclusive
                false,  // no-local
                false,  // no-wait
                nil,    // args
            )
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è: %v", err)
            }

            log.Println("–í–æ—Ä–∫–µ—Ä –∑–∞–ø—É—â–µ–Ω, –æ–∂–∏–¥–∞—é –∑–∞–¥–∞—á. –î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ CTRL+C")

            // –ö–∞–Ω–∞–ª –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤ –û–°
            sigs := make(chan os.Signal, 1)
            signal.Notify(sigs, syscall.SIGINT, syscall.SIGTERM)

            for {
                select {
                case d := <-msgs:
                    log.Printf("–ü–æ–ª—É—á–µ–Ω–∞ –∑–∞–¥–∞—á–∞: %s", d.Body)
                    // –ò–º–∏—Ç–∞—Ü–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
                    time.Sleep(2 * time.Second)
                    d.Ack(false) // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–¥–∞—á–∏
                    log.Printf("–ó–∞–¥–∞—á–∞ '%s' –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞.", d.Body)
                case <-sigs:
                    log.Println("–ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, –∑–∞–≤–µ—Ä—à–∞—é —Ä–∞–±–æ—Ç—É –≤–æ—Ä–∫–µ—Ä–∞.")
                    return
                }
            }
        }
        ```

    –í Dockerfile –∏–ª–∏ –ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ –æ–±–ª–∞—á–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ä–∞–∑–Ω—ã–µ "—Ç–∏–ø—ã" –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª.

    ```go
    # –ü—Ä–∏–º–µ—Ä Dockerfile –¥–ª—è –≤–µ–±-–ø—Ä–æ—Ü–µ—Å—Å–∞
    FROM alpine:3.20
    WORKDIR /app
    COPY bin/myapp-web . # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ myapp-web - —ç—Ç–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –¥–ª—è –≤–µ–±-–ø—Ä–æ—Ü–µ—Å—Å–∞
    EXPOSE 8080
    CMD ["./myapp-web"]

    # –ü—Ä–∏–º–µ—Ä Dockerfile –¥–ª—è —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
    FROM alpine:3.20
    WORKDIR /app
    COPY bin/myapp-worker . # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ myapp-worker - —ç—Ç–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –¥–ª—è –≤–æ—Ä–∫–µ—Ä–∞
    CMD ["./myapp-worker"]
    ```

---

## üí® –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (Disposability)

!!! tip "–ú–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã."

–ü—Ä–æ—Ü–µ—Å—Å—ã –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ**, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏—Ö –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.
–≠—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –±—ã—Å—Ç—Ä–æ–º—É —ç–ª–∞—Å—Ç–∏—á–Ω–æ–º—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é, –±—ã—Å—Ç—Ä–æ–º—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π.

–ü—Ä–æ—Ü–µ—Å—Å—ã –¥–æ–ª–∂–Ω—ã —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞.
–í –∏–¥–µ–∞–ª–µ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ —Å –º–æ–º–µ–Ω—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–æ—Ü–µ—Å—Å –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ –∑–∞–¥–∞–Ω–∏—è.
–ö–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–æ–ª—å—à—É—é –≥–∏–±–∫–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø—É—Å–∫–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è, –∏ —ç—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –º–æ–∂–µ—Ç –ª–µ–≥—á–µ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –Ω–æ–≤—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –º–∞—à–∏–Ω—ã, –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

!!! danger "–ü—Ä–æ—Ü–µ—Å—Å—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–∞—é—Ç —Å–∏–≥–Ω–∞–ª `SIGTERM` –æ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤."

    –î–ª—è –≤–µ–±-–ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –ø—Ä–µ–∫—Ä–∞—à–µ–Ω–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã, –∞ –∑–∞—Ç–µ–º –≤—ã—Ö–æ–¥–∞.
    –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è, —á—Ç–æ HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫–æ—Ä–æ—Ç–∫–∏–µ, –∏–ª–∏ –≤ —Å–ª—É—á–∞–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±–µ—Å–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–µ–Ω–Ω–æ –ø—ã—Ç–∞—Ç—å—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

    –î–ª—è —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥—å —Ä–∞–±–æ—Ç.
    –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ RabbitMQ –≤–æ—Ä–∫–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `NACK` (Negative Acknowledgment), –∞ –≤ Apache Kafka –≤–æ—Ä–∫–µ—Ä –º–æ–∂–µ—Ç —Å–±—Ä–æ—Å–∏—Ç—å —Å–º–µ—â–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Ç–æ—á–∫—É.

–ü—Ä–æ—Ü–µ—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–æ–π—á–∏–≤—ã–º–∏ –∫ –≤–Ω–µ–∑–∞–ø–Ω–æ–π —Å–º–µ—Ä—Ç–∏, –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è –±–∞–∑–æ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–ª–∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.
–•–æ—Ç—è —ç—Ç–æ –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —Ä–µ–¥–∫–æ–µ —è–≤–ª–µ–Ω–∏–µ, —á–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å `SIGTERM`, —ç—Ç–æ –≤—Å–µ –∂–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏.
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –±–µ–∫–µ–Ω–¥–∞ –æ—á–µ—Ä–µ–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–¥–∞–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥—å, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç—ã –æ—Ç–∫–ª—é—á–∞—é—Ç—Å—è –∏–ª–∏ –∏—Å—Ç–µ–∫–∞–µ—Ç –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è.

–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π.
–î–∏–∑–∞–π–Ω, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Å–±–æ–π (crash-only design), –¥–æ–≤–æ–¥–∏—Ç —ç—Ç—É –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –¥–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

??? "–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ Go."

    - **–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫**: –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ Go –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è, –≥–ª–∞–≤–Ω–æ–µ –∏–∑–±–µ–≥–∞–π—Ç–µ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.
    –ò–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (readiness probes) –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞—Ö.
    - **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã (Graceful Shutdown)**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–∫–µ—Ç `context` –∏ `os.Signal` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–º `SIGINT` (Ctrl + C) –∏ `SIGTERM`.

        ```go
        package main

        import (
            "context"
            "fmt"
            "log"
            "net/http"
            "os"
            "os/signal"
            "syscall"
            "time"
        )

        func main() {
            mux := http.NewServeMux()
            mux.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
                log.Println("–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞...")
                time.Sleep(1 * time.Second) // –ò–º–∏—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
                fmt.Fprintln(w, "–ü—Ä–∏–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–∏—Å–∞!")
            })

            port := os.Getenv("PORT")
            if port == "" {
                port = "8080"
            }

            server := &http.Server{
                Addr:         ":" + port,
                Handler:      mux,
                ReadTimeout:  5 * time.Second,
                WriteTimeout: 10 * time.Second,
                IdleTimeout:  120 * time.Second,
            }

            // –ö–∞–Ω–∞–ª –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –û–°
            quit := make(chan os.Signal, 1)
            // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Å–∏–≥–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏–º –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å
            signal.Notify(quit, syscall.SIGINT, syscall.SIGTERM)

            // –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≥–æ—Ä—É—Ç–∏–Ω–µ, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å main
            go func() {
                log.Printf("–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ :%s\n", port)
                if err := server.ListenAndServe(); err != nil && err != http.ErrServerClosed {
                    log.Fatalf("–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: %v", err)
                }
            }()

            // –û–∂–∏–¥–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            <-quit
            log.Println("–ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (SIGINT/SIGTERM), –Ω–∞—á–∏–Ω–∞—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ...")

            // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å —Ç–∞–π–º-–∞—É—Ç–æ–º –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            // –î–∞–µ–º 5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
            ctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)
            defer cancel()

            // –ó–∞–≤–µ—Ä—à–∞–µ–º —Å–µ—Ä–≤–µ—Ä. Server.Shutdown() –æ–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
            if err := server.Shutdown(ctx); err != nil {
                log.Fatalf("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞: %v", err)
            }

            log.Println("–°–µ—Ä–≤–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É.")
        }
        ```

        –î–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤, –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ `SIGTERM`, –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É –∏ –≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ—á–µ—Ä–µ–¥—å, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤—ã–π—Ç–∏.
        –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥–∏ –±—ã–ª–∏ —Ä–µ–µ–Ω—Ç–µ—Ä–∞–±–µ–ª—å–Ω—ã–º–∏ –∏–ª–∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º–∏.

        ```go
        package main

        import (
            "context"
            "encoding/json"
            "fmt"
            "log"
            "os"
            "os/signal"
            "syscall"
            "time"

            "github.com/streadway/amqp" // –î—Ä–∞–π–≤–µ—Ä RabbitMQ
        )

        // NotificationTask –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–¥–∞—á–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        type NotificationTask struct {
            UserID          int    `json:"user_id"`
            Message         string `json:"message"`
            NotificationID  string `json:"notification_id"` // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
        }

        func main() {
            amqpURL := os.Getenv("AMQP_URL")
            if amqpURL == "" {
                log.Fatal("–û—à–∏–±–∫–∞: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è AMQP_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.")
            }

            conn, err := amqp.Dial(amqpURL)
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ RabbitMQ: %v", err)
            }
            defer conn.Close() // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ main

            ch, err := conn.Channel()
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª RabbitMQ: %v", err)
            }
            defer ch.Close() // –ó–∞–∫—Ä—ã–≤–∞–µ–º –∫–∞–Ω–∞–ª –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ main

            // –û–±—ä—è–≤–ª—è–µ–º –æ—á–µ—Ä–µ–¥—å. –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –æ—á–µ—Ä–µ–¥—å –±—ã–ª–∞ durable (—É—Å—Ç–æ–π—á–∏–≤–æ–π), —á—Ç–æ–±—ã —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Ç–µ—Ä—è–ª–∏—Å—å –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ RabbitMQ.
            q, err := ch.QueueDeclare(
                "notification_queue", // –ò–º—è –æ—á–µ—Ä–µ–¥–∏
                true,                 // durable: true - –æ—á–µ—Ä–µ–¥—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±—Ä–æ–∫–µ—Ä–∞
                false,                // deleteWhenUnused: false
                false,                // exclusive: false
                false,                // noWait: false
                nil,                  // arguments
            )
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—ä—è–≤–∏—Ç—å –æ—á–µ—Ä–µ–¥—å: %v", err)
            }

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º PrefetchCount. –≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π,
            // –∫–æ—Ç–æ—Ä—ã–µ –≤–æ—Ä–∫–µ—Ä –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å. –í–∞–∂–Ω–æ –¥–ª—è graceful shutdown.
            err = ch.Qos(
                1,     // prefetchCount: 1 - –≤–æ—Ä–∫–µ—Ä –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ 1 —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞ —Ä–∞–∑
                0,     // prefetchSize: 0
                false, // global: false
            )
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å QoS: %v", err)
            }

            // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
            msgs, err := ch.Consume(
                q.Name, // queue
                "",     // consumer: –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
                false,  // autoAck: false - –º—ã –±—É–¥–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
                false,  // exclusive: false
                false,  // noLocal: false
                false,  // noWait: false
                nil,    // args
            )
            if err != nil {
                log.Fatalf("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è: %v", err)
            }

            log.Println("–í–æ—Ä–∫–µ—Ä –∑–∞–ø—É—â–µ–Ω, –æ–∂–∏–¥–∞—é –∑–∞–¥–∞—á. –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ CTRL+C –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ SIGTERM.")

            // –°–æ–∑–¥–∞–µ–º –∫–∞–Ω–∞–ª –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤ –û–°
            sigs := make(chan os.Signal, 1)
            signal.Notify(sigs, syscall.SIGINT, syscall.SIGTERM) // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º SIGINT –∏ SIGTERM

            // –°–æ–∑–¥–∞–µ–º –∫–∞–Ω–∞–ª –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–æ—Ä—É—Ç–∏–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
            done := make(chan bool)

            go func() {
                for d := range msgs {
                    var task NotificationTask
                    if err := json.Unmarshal(d.Body, &task); err != nil {
                        log.Printf("–û—à–∏–±–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏: %v. –°–æ–æ–±—â–µ–Ω–∏–µ: %s. –û—Ç–∫–ª–æ–Ω—è—é.", err, d.Body)
                        d.Nack(false, false) // Nack (–Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º), –Ω–µ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–µ–º –≤ –æ—á–µ—Ä–µ–¥—å, –Ω–µ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–µ–º –≤ DLQ (–µ—Å–ª–∏ –Ω–µ—Ç)
                        continue
                    }

                    log.Printf("–ü–æ–ª—É—á–µ–Ω–∞ –∑–∞–¥–∞—á–∞: %+v", task)

                    // --- –õ–æ–≥–∏–∫–∞ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á–∏ ---
                    // –ü—Ä–µ–∂–¥–µ —á–µ–º —á—Ç–æ-—Ç–æ –¥–µ–ª–∞—Ç—å, –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –ª–∏ –∑–∞–¥–∞—á–∞ —É–∂–µ
                    if isNotificationAlreadySent(task.NotificationID) {
                        log.Printf("–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ %s —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ. –ü—Ä–æ–ø—É—Å–∫–∞—é.", task.NotificationID)
                        d.Ack(false) // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º, —á—Ç–æ "–æ–±—Ä–∞–±–æ—Ç–∞–ª–∏" (–ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏)
                        continue
                    }

                    // –ò–º–∏—Ç–∞—Ü–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø—Ä–∞–≤–∫–∞ email —á–µ—Ä–µ–∑ API)
                    log.Printf("–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ %s –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è %d...", task.NotificationID, task.UserID)
                    time.Sleep(3 * time.Second) // –ò–º–∏—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
                    log.Printf("–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ %s –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ.", task.NotificationID)

                    // --- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–∫—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ ---
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–æ –±—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
                    // updateNotificationStatus(task.NotificationID, "sent")
                    markNotificationAsSent(task.NotificationID)

                    // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ RabbitMQ.
                    // –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
                    d.Ack(false)
                }
                done <- true // –°–æ–æ–±—â–∞–µ–º, —á—Ç–æ —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω
            }()

            // –û–∂–∏–¥–∞–µ–º —Å–∏–≥–Ω–∞–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            <-sigs
            log.Println("–ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π...")

            // –ï—Å–ª–∏ –º—ã –ø–æ–ª—É—á–∞–µ–º —Å–∏–≥–Ω–∞–ª SIGTERM/SIGINT,
            // –∫–∞–Ω–∞–ª `msgs` –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç RabbitMQ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤–æ—Ä–∫–µ—Ä –∑–∞–≤–µ—Ä—à–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            // (–±–ª–∞–≥–æ–¥–∞—Ä—è PrefetchCount=1 –∏ autoAck=false).
            // –í—Å–µ –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∏—Ö –Ω–µ –±—É–¥–µ—Ç, –µ—Å–ª–∏ PrefetchCount=1),
            // –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –≤ –æ—á–µ—Ä–µ–¥—å.

            // –û–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–æ—Ä—É—Ç–∏–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (–æ–Ω–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –∫–∞–Ω–∞–ª msgs –∑–∞–∫—Ä–æ–µ—Ç—Å—è)
            // –î–∞–µ–º –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã —Ç–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å.
            shutdownCtx, cancel := context.WithTimeout(context.Background(), 10*time.Second) // –ú–∞–∫—Å. 10 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
            defer cancel()

            select {
            case <-done:
                log.Println("–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã, –≤–æ—Ä–∫–µ—Ä –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É.")
            case <-shutdownCtx.Done():
                log.Println("–¢–∞–π–º-–∞—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏—Å—Ç–µ–∫. –í–æ–∑–º–æ–∂–Ω–æ, –∑–∞–¥–∞—á–∞ –Ω–µ —É—Å–ø–µ–ª–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è.")
                // –ï—Å–ª–∏ –∑–¥–µ—Å—å –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ–Ω–æ –Ω–µ –±—ã–ª–æ Ack'–Ω—É—Ç–æ –∏ –≤–µ—Ä–Ω–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å.
            }

            log.Println("–í–æ—Ä–∫–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω.")
        }

        // isNotificationAlreadySent –∏–º–∏—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –ë–î.
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—ã–ª–∞ –±—ã –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ NotificationID.
        var sentNotifications = make(map[string]bool)

        func isNotificationAlreadySent(notificationID string) bool {
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
            time.Sleep(100 * time.Millisecond)
            _, found := sentNotifications[notificationID]
            return found
        }

        // markNotificationAsSent –∏–º–∏—Ç–∏—Ä—É–µ—Ç –∑–∞–ø–∏—Å—å –≤ –ë–î.
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—ã–ª–∞ –±—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
        func markNotificationAsSent(notificationID string) {
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ –≤ –ë–î
            time.Sleep(100 * time.Millisecond)
            sentNotifications[notificationID] = true
            log.Printf("–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ %s –ø–æ–º–µ—á–µ–Ω–æ –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ.", notificationID)
        }
        ```

---

## üß™ Dev/prod –ø–∞—Ä–∏—Ç–µ—Ç

!!! tip "–î–µ—Ä–∂–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, —Å—Ç–µ–π–¥–∂–∏–Ω–≥ –∏ –ø—Ä–æ–¥–∞–∫—à–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ—Ö–æ–∂–∏–º–∏."

–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º.
–≠—Ç–∏ —Ä–∞–∑–ª–∏—á–∏—è –ø—Ä–æ—è–≤–ª—è–ª–∏—Å—å –≤ —Ç—Ä–µ—Ö –æ–±–ª–∞—Å—Ç—è—Ö:

- **–†–∞–∑—Ä—ã–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏**: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —á–µ—Ä–µ–∑ –¥–Ω–∏, –Ω–µ–¥–µ–ª–∏ –∏–ª–∏ –¥–∞–∂–µ –º–µ—Å—è—Ü—ã;
- **–†–∞–∑—Ä—ã–≤ –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª–µ**: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–∏—à—É—Ç –∫–æ–¥, –∏–Ω–∂–µ–Ω–µ—Ä—ã –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—é—Ç –µ–≥–æ;
- **–†–∞–∑—Ä—ã–≤ –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö**: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–µ–∫, —Ç–∞–∫–æ–π –∫–∞–∫ Nginx, SQLite –∏ macOS, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –ø—Ä–æ–¥–∞–∫—à–Ω-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Traefik/Envoy, PostgreSQL –∏ Linux.

–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è —Ä–∞–∑—Ä—ã–≤ –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º.
–†–∞—Å–º–º–æ—Ç—Ä–∏–º –æ–ø—è—Ç—å –∂–µ —Ç—Ä–∏ –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω—ã—Ö —Ä–∞–∑—Ä—ã–≤–∞:

- **–°–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑—Ä—ã–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ–±–æ–ª—å—à–∏–º**: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥ –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –∏–ª–∏ –¥–∞–∂–µ –º–∏–Ω—É—Ç;
- **–°–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑—Ä—ã–≤ –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª–µ –Ω–µ–±–æ–ª—å—à–∏–º**: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –Ω–∞–ø–∏—Å–∞–≤—à–∏–µ –∫–æ–¥, —Ç–µ—Å–Ω–æ –≤–æ–≤–ª–µ—á–µ–Ω—ã –≤ –µ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ;
- **–°–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑—Ä—ã–≤ –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –Ω–µ–±–æ–ª—å—à–∏–º**: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å—Ä–µ–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ—Ö–æ–∂–∏–º–∏.

!!! warning "–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Å–∏—Å—Ç–µ–º–∞ –æ—á–µ—Ä–µ–¥–µ–π –∏–ª–∏ –∫—ç—à, —è–≤–ª—è—é—Ç—Å—è –æ–¥–Ω–æ–π –∏–∑ –æ–±–ª–∞—Å—Ç–µ–π, –≥–¥–µ –≤–∞–∂–µ–Ω –ø–∞—Ä–∏—Ç–µ—Ç dev/prod."

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç —Å–æ–ø—Ä–æ—Ç–∏–≤–ª—è—Ç—å—Å—è –∏—Å–∫—É—à–µ–Ω–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –∞–¥–∞–ø—Ç–µ—Ä—ã —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É—é—Ç –ª—é–±—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.
–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –ø–æ—è–≤–ª–µ–Ω–∏—é –∫—Ä–æ—à–µ—á–Ω—ã—Ö –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–µ–π, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–¥, —Ä–∞–±–æ—Ç–∞–≤—à–∏–π –∏ –ø—Ä–æ—à–µ–¥—à–∏–π —Ç–µ—Å—Ç—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏–ª–∏ –Ω–∞ —Å—Ç–µ–π–¥–∂–∏–Ω–≥–µ, –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Å—Ç—Ä–æ—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ Redis, PostgreSQL –∏ RabbitMQ, –Ω–µ—Å–ª–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏.
–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ Docker –∏ Docker Compose, –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—á–µ–Ω—å —Ç–æ—á–Ω–æ –∏–º–∏—Ç–∏—Ä—É—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã.

??? "–°–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–∞—Ä–∏—Ç–µ—Ç dev/prod –≤ Go - —ç—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Docker Compose** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏."

    **Docker Compose** –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ –∂–µ –≤–µ—Ä—Å–∏–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, —á—Ç–æ –∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

    –ü—Ä–∏–º–µ—Ä `docker-compose.yml`:

    ```yaml
    version: '3.8'
    services:
      app:
        build:
          context: .
          dockerfile: Dockerfile.dev # Dockerfile –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–≤–æ–∑–º–æ–∂–Ω–æ, —Å hot-reloading)
        ports:
          - "8080:8080"
        environment:
          # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
          DATABASE_URL: "postgres://user:password@db:5432/mydatabase?sslmode=disable"
          REDIS_ADDR: "redis:6379"
          RABBITMQ_URL: "amqp://guest:guest@rabbitmq:5672/"
          PORT: "8080"
          DEBUG_MODE: "true" # –ú–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –æ—Ç–ª–∞–¥–∫–∏
        depends_on:
          - db
          - redis
          - rabbitmq
        volumes:
          - .:/app # –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è hot-reloading (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

      db:
        image: postgres:15 # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—É –∂–µ –≤–µ—Ä—Å–∏—é, —á—Ç–æ –∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
        environment:
          POSTGRES_DB: mydatabase
          POSTGRES_USER: user
          POSTGRES_PASSWORD: password
        volumes:
          - db_data:/var/lib/postgresql/data # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏

      redis:
        image: redis:7-alpine # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—É –∂–µ –≤–µ—Ä—Å–∏—é, —á—Ç–æ –∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
        ports:
          - "6379:6379"

      rabbitmq:
        image: rabbitmq:3-management-alpine # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—É –∂–µ –≤–µ—Ä—Å–∏—é, —á—Ç–æ –∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
        ports:
          - "5672:5672" # AMQP –ø–æ—Ä—Ç
          - "15672:15672" # Management UI –ø–æ—Ä—Ç

    volumes:
      db_data:
    ```

    –° —ç—Ç–∏–º —Ñ–∞–π–ª–æ–º –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å `docker compose up` –≤ —Å–≤–æ–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ, –∏ —É –≤–∞—Å –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å—Ç–µ–∫, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω—ã–π –∫ —Ç–æ–º—É, —á—Ç–æ –±—É–¥–µ—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–æ–∫ "—Ä–∞–±–æ—Ç–∞–µ—Ç —É –º–µ–Ω—è, –Ω–æ –Ω–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ".

    –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ Docker –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å [–∑–¥–µ—Å—å](../docker/installation.md).

---

## üìú –õ–æ–≥–∏ (Logs)

!!! tip "–û–±—Ä–∞—â–∞–π—Ç–µ—Å—å —Å –∂—É—Ä–Ω–∞–ª–∞–º–∏ –∫–∞–∫ —Å –ø–æ—Ç–æ–∫–∞–º–∏ —Å–æ–±—ã—Ç–∏–π."

**–ñ—É—Ä–Ω–∞–ª—ã** - —ç—Ç–æ –ø–æ—Ç–æ–∫ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã—Ö –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏–π, —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –∏–∑ –ø–æ—Ç–æ–∫–æ–≤ –≤—ã–≤–æ–¥–∞ –≤—Å–µ—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
–ñ—É—Ä–Ω–∞–ª—ã –≤ —Å–≤–æ–µ–º –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º –≤–∏–¥–µ –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç —Å –æ–¥–Ω–∏–º —Å–æ–±—ã—Ç–∏–µ–º –Ω–∞ —Å—Ç—Ä–æ–∫—É.
–ñ—É—Ä–Ω–∞–ª—ã –Ω–µ –∏–º–µ—é—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞—á–∞–ª–∞ –∏–ª–∏ –∫–æ–Ω—Ü–∞, –Ω–æ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ –ø–æ—Å—Ç—É–ø–∞—é—Ç, –ø–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

–î–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—Å—è –æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å–≤–æ–µ–≥–æ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞.
–û–Ω–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ª–æ–≥—Ñ–∞–π–ª–∞–º–∏.
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∫–∞–∂–¥—ã–π –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–≤–æ–π –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π, –Ω–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π, –≤ `stdout` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥) –∏ `stderr` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –æ—à–∏–±–æ–∫).
–í–æ –≤—Ä–µ–º—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –±—É–¥–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–æ—Ç–æ–∫ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–º –ø–ª–∞–Ω–µ, —á—Ç–æ–±—ã –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ —Å—Ç–µ–π–¥–∂–∏–Ω–≥ –∏–ª–∏ –ø—Ä–æ–¥–∞–∫—à–Ω –ø–æ—Ç–æ–∫ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –±—É–¥–µ—Ç –∑–∞—Ö–≤–∞—á–µ–Ω —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Å–æ–±—Ä–∞–Ω –≤–º–µ—Å—Ç–µ —Å–æ –≤—Å–µ–º–∏ –¥—Ä—É–≥–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –≤ –æ–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω–µ—á–Ω—ã—Ö –º–µ—Å—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è.
–≠—Ç–∏ –º–µ—Å—Ç–∞ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã –∏ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
–î–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã –∂—É—Ä–Ω–∞–ª–æ–≤ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º (Fluentd, Logstash, Vector) –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–ª–∞—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º (Google Cloud Logging, AWS CloudWatch Logs).

–ü–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ñ–∞–π–ª, –∏–ª–∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.
–ù–æ –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω–æ, —á—Ç–æ –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º—É –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –∂—É—Ä–Ω–∞–ª–æ–≤, —Ç–∞–∫—É—é –∫–∞–∫ Elasticsearch/Kibana (ELK stack), Splunk, Grafana Loki –∏–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫—É—é –∫–∞–∫ Hadoop/Hive.
–≠—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Å –±–æ–ª—å—à–æ–π –º–æ—â—å—é –∏ –≥–∏–±–∫–æ—Å—Ç—å—é –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏, –≤–∫–ª—é—á–∞—è:

- –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ –ø—Ä–æ—à–ª–æ–º;
- –ú–∞—Å—à—Ç–∞–±–Ω–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π (–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫);
- –ê–∫—Ç–∏–≤–Ω–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —ç–≤—Ä–∏—Å—Ç–∏–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –≤ –º–∏–Ω—É—Ç—É –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ä–æ–≥).

??? "–í Go —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞–∫–µ—Ç `log` –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—é—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫—É—é –∫–∞–∫ `sirupsen/logrus` –∏–ª–∏ `zap`, –∫–æ—Ç–æ—Ä–∞—è –ø–∏—à–µ—Ç –≤ `os.Stdout` –∏ `os.Stderr`."

    –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON) –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

    ```go
    package main

    import (
        "fmt"
        "net/http"
        "os"
        "time"

        "github.com/sirupsen/logrus" // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Logrus –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    )

    var log = logrus.New()

    func init() {
        log.SetOutput(os.Stdout) // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Logrus –ø–∏—à–µ—Ç –≤ os.Stderr, –Ω–æ –¥–ª—è 12-factor –ª—É—á—à–µ –≤ stdout
        log.SetFormatter(&logrus.JSONFormatter{ // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JSON-—Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
            TimestampFormat: time.RFC3339,
        })
        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
        logLevel := os.Getenv("LOG_LEVEL")
        if logLevel == "" {
            logLevel = "info" // –£—Ä–æ–≤–µ–Ω—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        }
        level, err := logrus.ParseLevel(logLevel)
        if err != nil {
            log.Warnf("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è '%s', –∏—Å–ø–æ–ª—å–∑—É—é 'info'", logLevel)
            level = logrus.InfoLevel
        }
        log.SetLevel(level)
    }

    func main() {
        http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
            // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
            log.WithFields(logrus.Fields{
                "method":       r.Method,
                "path":         r.URL.Path,
                "remote_addr":  r.RemoteAddr,
                "user_agent":   r.UserAgent(),
                "request_id":   r.Header.Get("X-Request-ID"), // –ï—Å–ª–∏ –µ—Å—Ç—å
            }).Info("–ü–æ–ª—É—á–µ–Ω HTTP-–∑–∞–ø—Ä–æ—Å")

            fmt.Fprintln(w, "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!")
        })

        http.HandleFunc("/error", func(w http.ResponseWriter, r *http.Request) {
            // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
            err := fmt.Errorf("—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞")
            log.WithFields(logrus.Fields{
                "error":        err,
                "path":         r.URL.Path,
                "remote_addr":  r.RemoteAddr,
                "stack_trace":  "...", // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É —Å—Ç–µ–∫–∞
            }).Error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞")

            http.Error(w, "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞", http.StatusInternalServerError)
        })

        port := os.Getenv("PORT")
        if port == "" {
            port = "8080"
        }
        log.Printf("–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É :%s", port)
        err := http.ListenAndServe(":"+port, nil)
        if err != nil {
            log.Fatalf("–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: %v", err)
        }
    }
    ```

---

## üîß –ê–¥–º–∏–Ω-–ø—Ä–æ—Ü–µ—Å—Å—ã (Admin processes)

!!! tip "–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ/—É–ø—Ä–∞–≤–ª–µ–Ω—á–∏—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –∫–∞–∫ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã."

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —á–∞—Å—Ç–æ —Ö–æ—Ç—è—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ —Ä–∞–∑–æ–≤—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–ª–∏ –æ–±—Å–ª—É–∂–∏–≤–∞—é—â–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–ù–∞–ø—Ä–∏–º–µ—Ä:

- –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö;
- –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ (REPL) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–ª–∏ –∏–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –∂–∏–≤–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (—Ö–æ—Ç—è –¥–ª—è Go —ç—Ç–æ –º–µ–Ω–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–æ, —á–µ–º –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã—Ö —è–∑—ã–∫–æ–≤);
- –ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ï—Å–ª–∏ –≤–µ–±-–ø—Ä–æ—Ü–µ—Å—Å Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `go run cmd/web/main.go`, —Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `go run cmd/migrate/main.go` –∏–ª–∏ `myapp migrate`.

??? "–í Go –æ–±—ã—á–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–ª –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã –≤ –æ–¥–Ω–æ–º –æ—Å–Ω–æ–≤–Ω–æ–º –±–∏–Ω–∞—Ä–Ω–∏–∫–µ."

    –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–¥–∫–æ–º–∞–Ω–¥–∞–º–∏:

    ```bash
    my-go-app/
      go.mod
      go.sum
      cmd/
        main.go         # –û—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–∞–∑–±–∏—Ä–∞—Ç—å –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã
        web/main.go     # –ö–æ–¥ –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
        worker/main.go  # –ö–æ–¥ –¥–ª—è –≤–æ—Ä–∫–µ—Ä–∞
        migrate/main.go # –ö–æ–¥ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
        seed/main.go    # –ö–æ–¥ –¥–ª—è —Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
      internal/
      ...

    ```

    –ü—Ä–∏–º–µ—Ä `cmd/main.go` (–æ—Å–Ω–æ–≤–Ω–æ–π CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):

    ```go
    package main

    import (
        "fmt"
        "os"

        "github.com/spf13/cobra" // –ü–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è CLI
    )

    var rootCmd = &cobra.Command{
        Use:   "myapp",
        Short: "myapp - —ç—Ç–æ –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ",
        Long:  `–ü–æ–ª–Ω–æ–µ –¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–µ Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º, –≤–æ—Ä–∫–µ—Ä–∞–º–∏ –∏ –∞–¥–º–∏–Ω-—É—Ç–∏–ª–∏—Ç–∞–º–∏.`,
        Run: func(cmd *cobra.Command, args []string) {
            fmt.Println("–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'myapp --help' –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.")
        },
    }

    // init() –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–¥–∫–æ–º–∞–Ω–¥
    func init() {
        rootCmd.AddCommand(webCmd)
        rootCmd.AddCommand(workerCmd)
        rootCmd.AddCommand(migrateCmd)
        rootCmd.AddCommand(seedCmd)
    }

    func main() {
        if err := rootCmd.Execute(); err != nil {
            fmt.Fprintf(os.Stderr, "–û—à–∏–±–∫–∞: %v\n", err)
            os.Exit(1)
        }
    }

    // webCmd - –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
    var webCmd = &cobra.Command{
        Use:   "web",
        Short: "–ó–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
        Run: func(cmd *cobra.Command, args []string) {
            // –ó–¥–µ—Å—å –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ cmd/web/main.go
            fmt.Println("–ó–∞–ø—É—Å–∫–∞—é –≤–µ–±-—Å–µ—Ä–≤–µ—Ä...")
            // web.StartWebServer() // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è StartWebServer –≤ –ø–∞–∫–µ—Ç–µ web
        },
    }

    // workerCmd - –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–æ–Ω–æ–≤–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞
    var workerCmd = &cobra.Command{
        Use:   "worker",
        Short: "–ó–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–æ–Ω–æ–≤–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á",
        Run: func(cmd *cobra.Command, args []string) {
            // –ó–¥–µ—Å—å –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ cmd/worker/main.go
            fmt.Println("–ó–∞–ø—É—Å–∫–∞—é –≤–æ—Ä–∫–µ—Ä–∞...")
            // worker.StartWorker() // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è StartWorker –≤ –ø–∞–∫–µ—Ç–µ worker
        },
    }

    // migrateCmd - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    var migrateCmd = &cobra.Command{
        Use:   "migrate",
        Short: "–í—ã–ø–æ–ª–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö",
        Run: func(cmd *cobra.Command, args []string) {
            // –ó–¥–µ—Å—å –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ cmd/migrate/main.go
            fmt.Println("–í—ã–ø–æ–ª–Ω—è—é –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...")
            // migrate.RunMigrations() // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è RunMigrations –≤ –ø–∞–∫–µ—Ç–µ migrate
        },
    }

    // seedCmd - –∑–∞–ø–æ–ª–Ω—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    var seedCmd = &cobra.Command{
        Use:   "seed",
        Short: "–ó–∞–ø–æ–ª–Ω—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏",
        Run: func(cmd *cobra.Command, args []string) {
            // –ó–¥–µ—Å—å –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ cmd/seed/main.go
            fmt.Println("–ó–∞–ø–æ–ª–Ω—è—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏...")
            // seed.RunSeeding() // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è RunSeeding –≤ –ø–∞–∫–µ—Ç–µ seed
        },
    }
    ```

    **–ó–∞–ø—É—Å–∫ –∞–¥–º–∏–Ω-–∑–∞–¥–∞—á**: –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏—Ö –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–æ–π –∂–µ —Å—Ä–µ–¥–µ, —á—Ç–æ –∏ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

    ```bash
    # –°–±–æ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ CLI
    go build -o myapp ./cmd/main.go

    # –õ–æ–∫–∞–ª—å–Ω–æ
    ./myapp migrate
    ./myapp seed

    # –í Docker (–∫–∞–∫ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π)
    # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Dockerfile –∫–æ–ø–∏—Ä—É–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫ 'myapp'
    docker run --rm -e DATABASE_URL="postgres://..." yourorg/myapp:v1.0.0 ./myapp migrate

    # –í Kubernetes (–∫–∞–∫ Job –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π)
    apiVersion: batch/v1
    kind: Job
    metadata:
      name: db-migrate-job
    spec:
      template:
        spec:
          containers:
          - name: migrator
            image: yourorg/myapp:v1.0.0 # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ –æ–±—Ä–∞–∑, —á—Ç–æ –∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            command: ["./myapp", "migrate"] # –í—ã–∑—ã–≤–∞–µ–º –ø–æ–¥–∫–æ–º–∞–Ω–¥—É migrate
            env:
              - name: DATABASE_URL # –ü–µ—Ä–µ–¥–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
                valueFrom:
                  secretKeyRef:
                    name: db-credentials
                    key: url
          restartPolicy: Never # –ù–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–ª–∏ —Å–±–æ—è
      backoffLimit: 4 # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ —Å–±–æ–µ
    ```
