---
title: Keycloak
description: Обзор Keycloak, решения для управления идентификацией и доступом с открытым исходным кодом.
---

# Keycloak: Управление идентификацией и доступом

!!! abstract "Тезис"
    **Keycloak** — это продукт с открытым исходным кодом для управления идентификацией и доступом (Identity and Access Management, IAM), который позволяет легко добавлять аутентификацию в приложения и обеспечивать безопасность сервисов с минимальными усилиями. Он поддерживает стандартные протоколы, такие как **OAuth 2.0**, **OpenID Connect (OIDC)** и **SAML 2.0**.

---

## Ключевые возможности

-   **Single Sign-On (SSO)**: Позволяет пользователям входить в несколько приложений, используя один набор учетных данных.
-   **Identity Brokering**: Может выступать в качестве посредника для внешних провайдеров идентификации (Google, Facebook, GitHub).
-   **User Federation**: Синхронизация пользователей из внешних источников, таких как LDAP или Active Directory.
-   **Централизованное управление**: Предоставляет административный веб-интерфейс для управления пользователями, ролями и сессиями.
-   **Высокая кастомизация**: Возможность настраивать темы, потоки аутентификации и расширять функциональность через плагины.

---

## Архитектура

Keycloak — это самостоятельное Java-приложение, которое работает как централизованный сервер аутентификации.

!!! example "Схема работы Keycloak"
    ```plaintext
    +----------+   (1. Login request)    +-------------------+
    |  User    | ----------------------> |    Application    |
    +----------+                         +---------+---------+
          ^                                        |
          | (4. Token)                             | (2. Redirect to Keycloak)
          |                                        v
    +-----|----+                         +---------+---------+
    |     v    |   (3. Authenticates)    |     Keycloak      |
    |  Access  | <---------------------> | (Login Page,      |
    | Granted  |                         |  Issues Token)    |
    +----------+                         +-------------------+
    ```

1.  Пользователь пытается получить доступ к приложению.
2.  Приложение перенаправляет пользователя на страницу входа Keycloak.
3.  Keycloak аутентифицирует пользователя (через логин/пароль или внешнего провайдера).
4.  Keycloak возвращает в приложение токен (например, JWT), который подтверждает личность пользователя.

---

## Преимущества

-   **Стандарты**: Полная поддержка OIDC и SAML.
-   **Готовое решение**: Предоставляет все необходимое "из коробки", включая UI для входа и администрирования.
-   **Гибкость**: Легко интегрируется как с новыми, так и с существующими приложениями.
-   **Открытый исходный код**: Отсутствие привязки к вендору.

!!! success "Рекомендация"
    **Keycloak** — это мощный и зрелый выбор для централизации аутентификации и авторизации в вашей компании. Он особенно полезен в микросервисной архитектуре, где необходимо обеспечить безопасное взаимодействие между множеством сервисов.
