---
title: OpenTelemetry
description: Обзор OpenTelemetry (OTel), стандарта для сбора данных телеметрии (трейсы, метрики, логи).
---

# OpenTelemetry: Стандарт для телеметрии

!!! abstract "Тезис"
    **OpenTelemetry (OTel)** — это набор API, SDK, инструментов и интеграций с открытым исходным кодом, который стандартизирует сбор и экспорт данных телеметрии (трейсы, метрики, логи). Проект был создан в результате слияния **OpenTracing** и **OpenCensus** и является стандартом де-факто для инструментирования облачных приложений. OTel поддерживается **Cloud Native Computing Foundation (CNCF)**.

---

## Ключевые концепции

OpenTelemetry оперирует тремя основными типами данных:

-   **Трейсы (Traces)**: Отслеживают путь запроса через несколько сервисов. Помогают понять, где возникают задержки и ошибки в распределенных системах.
-   **Метрики (Metrics)**: Агрегированные числовые данные о работе системы (например, количество запросов в секунду, использование CPU).
-   **Логи (Logs)**: Записи о событиях, произошедших в определенный момент времени.

!!! info "Vendor-Agnostic"
    Ключевая идея OpenTelemetry — отделить инструментирование кода от выбора бэкенда для анализа данных. Вы можете инструментировать свое приложение один раз с помощью OTel, а затем отправлять данные в любой совместимый бэкенд (Jaeger, Prometheus, Loki, Datadog, New Relic и т.д.), просто поменяв конфигурацию экспортера.

---

## Архитектура

!!! example "Схема работы OpenTelemetry"
    ```plaintext
    +---------------------+      +-----------------------+      +-------------------+
    | Instrumented App    |      |   OTel Collector      |      |    Backend(s)     |
    | +-----------------+ |      | (Optional, but rec.)  |      | +---------------+ |
    | | OTel SDK & API  | | ---> | +-------------------+ | ---> | | Jaeger (Traces) | |
    | +-----------------+ |      | |    Receivers      | |      | +---------------+ |
    +---------------------+      | +-------------------+ |      | +---------------+ |
                                 | |    Processors     | | ---> | | Prometheus(Mtr) | |
                                 | +-------------------+ |      | +---------------+ |
                                 | |    Exporters      | |      | +---------------+ |
                                 | +-------------------+ | ---> | | Loki (Logs)     | |
                                 +-----------------------+      | +---------------+ |
                                                                +-------------------+
    ```

-   **OTel SDK**: Библиотека для вашего языка программирования, которая реализует API OpenTelemetry.
-   **Exporters**: Компоненты SDK, которые отправляют данные в определенный бэкенд.
-   **OTel Collector**: Рекомендуемый компонент для развертывания. Это отдельный сервис, который принимает данные телеметрии, обрабатывает их (например, добавляет атрибуты, фильтрует) и экспортирует в один или несколько бэкендов. Использование Collector'а позволяет не перегружать приложение задачами экспорта.

---

## Преимущества

-   **Стандартизация**: Единый стандарт для инструментирования приложений.
-   **Переносимость**: Легко менять бэкенды без изменения кода.
-   **Расширяемость**: Поддержка множества языков и фреймворков.
-   **Активное развитие**: Поддерживается всеми крупными облачными провайдерами и вендорами мониторинга.

!!! success "Рекомендация"
    Для всех новых приложений используйте **OpenTelemetry** для инструментирования. Это обеспечит вам максимальную гибкость в будущем и позволит использовать лучшие в своем классе инструменты для анализа каждого типа данных (трейсы, метрики, логи).
