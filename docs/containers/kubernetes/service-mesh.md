# Service Mesh

## Что такое Service Mesh и для чего он нужен?

**Service Mesh** - паттерн, позволяющий более гибко управлять трафиком в Kubernetes.
Servise Mesh состоит из:
- *control plane*, который собирает информацию о кластере k8s
- запущенных в нем приложениях
- дополнительных объектов, которые могут быть описаны для дополнительной конфигурации
- sidecar-контейнеров, которые инжектятся в POD'ы автоматически при помощи *mutation webhook*.

**Sidecar-контейнеры**  - reverse-прокси, перехватывающие входящий и исходящий трафик приложений в контейнерах и управляющие им в зависимости от полученной из *control plane* конфигурации.

Основные задачи для Service Mesh:

- Гарантий доставки трафика до приложений(retry, timeouts, circuit breaker)
- Увеличение безопасности при помощи шифрования трафика, верификации трафика на основе сертификатов, реализация дополнительных правил и разрешений на передачу трафика
- Реализация переключения трафика при *canary*, *a/b*, *blue/green* стратегий деплоя.

Недостатки:

- Избыточная сложность
- Повышенная ресурсоемкость
- Накладные расходы
