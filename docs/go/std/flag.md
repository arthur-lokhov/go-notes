---
title: –ü–∞–∫–µ—Ç flag
---
# üèÅ –ü–∞–∫–µ—Ç `flag`

–ü–∞–∫–µ—Ç `flag` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ —Ñ–ª–∞–≥–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

---

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

!!! info "–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –¥–∞–Ω–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞"

    C–≤—è–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–æ–¥–µ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

### üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1.  **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤:** –ß–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ `flag.String()`, `flag.Int()`, `flag.Bool()` –∏ —Ç.–¥.
2.  **–ü–∞—Ä—Å–∏–Ω–≥:** –í `main()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `flag.Parse()`, –∫–æ—Ç–æ—Ä–∞—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç `os.Args[1:]`.
3.  **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–ª–∞–≥–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

### üí¨ –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ–ª–∞–≥–æ–≤

–ü–∞–∫–µ—Ç `flag` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:

- `-flag` –∏–ª–∏ `--flag` ‚Üí `true` –¥–ª—è `bool`
- `-flag=value` ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
- `-flag value` ‚Üí –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –Ω–æ –Ω–µ –¥–ª—è `bool`
- `--` ‚Üí –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–∑–±–æ—Ä —Ñ–ª–∞–≥–æ–≤

!!! note "–§–ª–∞–≥–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è"

    –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `-flag` –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (–∞ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç).

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –º–µ—Ç–æ–¥—ã

### üè∑Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Flag`

!!! tip "–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥"

    https://go.googlesource.com/go/+/refs/heads/master/src/flag/flag.go;l=408

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Flag` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ñ–ª–∞–≥–∞.

```go
type Flag struct {
    Name     string
    Usage    string
    Value    Value
    DefValue string
}
```

| –ü–æ–ª–µ       | –¢–∏–ø          | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                  |
| ---------- | ------------ | --------------------------------------------------------------------------- |
| `Name`     | `string`     | –ò–º—è —Ñ–ª–∞–≥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ (`-flag`)                        |
| `Usage`    | `string`     | –¢–µ–∫—Å—Ç, –≤—ã–≤–æ–¥–∏–º—ã–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ (`flag.Usage` –∏–ª–∏ `flag.PrintDefaults`)         |
| `Value`    | `flag.Value` | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ö—Ä–∞–Ω—è—â–∏–π —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–ª–∞–≥–∞                                  |
| `DefValue` | `string`     | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ —Å—Ç—Ä–æ–∫–æ–≤–æ–º –≤–∏–¥–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ø—Ä–∞–≤–∫–∏) |

### üîÑ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `Value` –∏ `Getter`

!!! tip "–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥"

    https://go.googlesource.com/go/+/refs/heads/master/src/flag/flag.go;l=360

`Value` –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Ñ–ª–∞–≥–æ–≤.
–õ—é–±–æ–π —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ–ª–∞–≥–∞.

```go
type Value interface {
    String() string
    Set(string) error
}
```

–¢–∞–∫–∂–µ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Getter`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—à–∏—Ä—è–µ—Ç `Value`, –¥–æ–±–∞–≤–ª—è—è –º–µ—Ç–æ–¥ `Get()`.
–í—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–∏–ø—ã —Ñ–ª–∞–≥–æ–≤ –≤ –ø–∞–∫–µ—Ç–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

```go
type Getter interface {
    Value
    Get() any
}
```

| –ú–µ—Ç–æ–¥                                   | –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏                                                                            |
| --------------------------------------- | -------------------------------------------------------------------------------------- |
| **Set(string)**                         | –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ñ–ª–∞–≥ `-list` –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ               |
| **String()**                            | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –∑–Ω–∞—á–µ–Ω–∏—è, –≤ `flag.PrintDefaults()` –∏ `fmt.Print`               |
| **Get()**                               | –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å "—Å—ã—Ä–æ–µ" –∑–Ω–∞—á–µ–Ω–∏–µ, —á–∞—â–µ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ –∏–ª–∏ –ª–æ–≥–∏–∫–µ –Ω–∞–¥ —Ñ–ª–∞–≥–∞–º–∏ |

### üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `FlagSet`

!!! tip "–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥"

    https://go.googlesource.com/go/+/refs/heads/master/src/flag/flag.go;l=389

`FlagSet` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –Ω–∞–±–æ—Ä—ã —Ñ–ª–∞–≥–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–¥–∫–æ–º–∞–Ω–¥ (–∫–∞–∫ –≤ `git remote add ...`).

```go
type FlagSet struct {
	Usage func()
    // –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª—è
}
```

??? example "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `FlagSet`"

    ```go
    package main

    import (
        "flag"
        "fmt"
        "os"
    )

    func main() {
        // –°–æ–∑–¥–∞—ë–º –ø–æ–¥–∫–æ–º–∞–Ω–¥—É "serve"
        serveCmd := flag.NewFlagSet("serve", flag.ExitOnError)
        port := serveCmd.Int("port", 8080, "port to serve on")
        verbose := serveCmd.Bool("verbose", false, "enable verbose logging")

        if len(os.Args) < 2 {
            fmt.Println("expected 'serve' subcommand")
            os.Exit(1)
        }

        switch os.Args[1] {
        case "serve":
            serveCmd.Parse(os.Args[2:])
            fmt.Printf("Serving on port %d (verbose: %v)\n", *port, *verbose)

            // –ü—Ä–∏–º–µ—Ä –æ–±—Ö–æ–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤:
            serveCmd.Visit(func(f *flag.Flag) {
                fmt.Printf("–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–ª–∞–≥: -%s = %s\n", f.Name, f.Value.String())
            })
        default:
            fmt.Println("Unknown command:", os.Args[1])
            os.Exit(1)
        }
    }
    ```

| –ú–µ—Ç–æ–¥                          | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------------------------|----------|
| `Parse(args []string)`         | –ü–∞—Ä—Å–∏—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ |
| `Parsed() bool`                | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥ —É–∂–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω |
| `Set(name, value string)`      | –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Ñ–ª–∞–≥–∞ |
| `Lookup(name string)`          | –ò—â–µ—Ç —Ñ–ª–∞–≥ –ø–æ –∏–º–µ–Ω–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `*Flag` –∏–ª–∏ `nil` |
| `Visit(fn func(*Flag))`        | –í—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö **—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö** —Ñ–ª–∞–≥–æ–≤ |
| `VisitAll(fn func(*Flag))`     | –í—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è **–≤—Å–µ—Ö –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö** —Ñ–ª–∞–≥–æ–≤ |
| `PrintDefaults()`              | –ü–µ—á–∞—Ç–∞–µ—Ç usage-—Ñ–ª–∞–≥–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| `NFlag()`                      | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤ |
| `Arg(i int)`                   | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `i`-–π –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç |
| `Args()`                       | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–∞–π—Å –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ |
| `NArg()`                       | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ |
| `Init(name, eh ErrorHandling)` | –ü–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç `FlagSet` —Å –Ω–æ–≤—ã–º –∏–º–µ–Ω–µ–º –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ |

!!! note "–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö (`ErrorHandling`)"

    –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `FlagSet` –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –æ–Ω –¥–æ–ª–∂–µ–Ω –≤–µ—Å—Ç–∏ —Å–µ–±—è –ø—Ä–∏ –æ—à–∏–±–∫–µ –ø–∞—Ä—Å–∏–Ω–≥–∞. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç—Ä–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:

    -   `ContinueOnError`: –í–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É, —á—Ç–æ–±—ã –µ–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Ä—É—á–Ω—É—é.
    -   `ExitOnError`: –ù–∞–ø–µ—á–∞—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –∫–æ–¥–æ–º 2 (–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è `CommandLine`).
    -   `PanicOnError`: –í—ã–∑–≤–∞—Ç—å –ø–∞–Ω–∏–∫—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏.

    –ü—Ä–∏–º–µ—Ä:

    ```go
    fs := flag.NewFlagSet("build", flag.ContinueOnError)
    err := fs.Parse([]string{"-badflag"})
    if err != nil {
        fmt.Println("–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:", err)
    }
    ```

---

## üõ†Ô∏è –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–ª–∞–≥–æ–≤

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–∏–ø–∞ –µ—Å—Ç—å –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏: `Xxx` –∏ `XxxVar`.

-   `flag.Xxx(name, defaultValue, usage)`: –°–æ–∑–¥–∞–µ—Ç —Ñ–ª–∞–≥, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–ª—è –Ω–µ–≥–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–µ–µ.
-   `flag.XxxVar(p, name, defaultValue, usage)`: –°–≤—è–∑—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥ —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `p`.

| –¢–∏–ø         | –§—É–Ω–∫—Ü–∏—è `Xxx`                               | –§—É–Ω–∫—Ü–∏—è `XxxVar`                                 |
|-------------|---------------------------------------------|--------------------------------------------------|
| `bool`      | `p := flag.Bool(...)`                       | `var b bool; flag.BoolVar(&b, ...)`              |
| `int`       | `p := flag.Int(...)`                        | `var i int; flag.IntVar(&i, ...)`                |
| `int64`     | `p := flag.Int64(...)`                      | `var i64 int64; flag.Int64Var(&i64, ...)`         |
| `uint`      | `p := flag.Uint(...)`                       | `var u uint; flag.UintVar(&u, ...)`              |
| `uint64`    | `p := flag.Uint64(...)`                     | `var u64 uint64; flag.Uint64Var(&u64, ...)`       |
| `float64`   | `p := flag.Float64(...)`                    | `var f64 float64; flag.Float64Var(&f64, ...)`     |
| `string`    | `p := flag.String(...)`                     | `var s string; flag.StringVar(&s, ...)`          |
| `duration`  | `p := flag.Duration(...)`                   | `var d time.Duration; flag.DurationVar(&d, ...)` |

---

## üß™ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏

| –§—É–Ω–∫—Ü–∏—è                                               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                           | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è                                                                         |
| ----------------------------------------------------- | ------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------- |
| `flag.Var(value Value, name, usage)`                  | –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ñ–ª–∞–≥ —Å **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Ç–∏–ø–æ–º**, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `flag.Value`   | `flag.Var(&myList, "list", "a list of values")`                                              |
| `flag.TextVar(p TextUnmarshaler, name, value, usage)` | –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `Var` –¥–ª—è —Ç–∏–ø–æ–≤, —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `encoding.TextUnmarshaler` | `flag.TextVar(&ip, "ip", net.ParseIP("127.0.0.1"), "server IP")`                             |
| `flag.Func(name, usage, fn func(string) error)`       | –°–æ–∑–¥–∞–µ—Ç —Ñ–ª–∞–≥, –≤—ã–∑—ã–≤–∞—é—â–∏–π **—Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞** –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–Ω–∞—á–µ–Ω–∏—è         | `flag.Func("level", "log level", func(v string) error { log.SetLevel(v); return nil })`      |
| `flag.BoolFunc(name, usage, fn func(string) error)`   | –ö–∞–∫ `Func`, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ñ–ª–∞–≥** (–±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è)                       | `flag.BoolFunc("debug", "enable debug", func(v string) error { enableDebug(); return nil })` |

??? example "–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–ª–∞–≥–æ–≤"

    –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `flag.Var`.

    ```go
    package main

    import (
        "flag"
        "strings"
    )

    type stringList []string

    func (s *stringList) Set(v string) error {
        *s = append(*s, v)
        return nil
    }

    func (s *stringList) String() string {
        return strings.Join(*s, ",")
    }


    func main() {
        var list stringList
        flag.Var(&list, "list", "a list of items")
    }
    ```

    IP-–∞–¥—Ä–µ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `flag.TextVar`.

    ```go
    package main

    import (
        "flag"
        "net"
    )

    func main() {
        var ip net.IP
        flag.TextVar(&ip, "ip", net.ParseIP("127.0.0.1"), "server IP")
    }
    ```

    –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `flag.Func`.

    ```go
    package main

    import (
        "flag"
        "fmt"
    )


    func main() {
        flag.Func("log-level", "set log level", func(s string) error {
            fmt.Println("—É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:", s)
            return nil
        })
    }
    ```

    –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `flag.BoolFunc`.

    ```go
    package main

    import (
        "flag"
        "fmt"
    )


    func main() {
        flag.BoolFunc("debug", "–≤–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É", func(_ string) error {
            fmt.Println("–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω")
            return nil
        })
    }
    ```
