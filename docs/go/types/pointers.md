---
title: –£–∫–∞–∑–∞—Ç–µ–ª–∏
---

# üëâ –£–∫–∞–∑–∞—Ç–µ–ª–∏ (Pointers)

–£–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ Go ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç –∞–¥—Ä–µ—Å –≤ –ø–∞–º—è—Ç–∏ –¥—Ä—É–≥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. –û–Ω–∏ –ø—Ä–æ—â–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–µ–º –≤ C/C++, –Ω–æ —è–≤–ª—è—é—Ç—Å—è –º–æ—â–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–æ–º–µ–Ω—Ç–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏.

---

## üöÄ –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã `&` –∏ `*`
- **`&` (–æ–ø–µ—Ä–∞—Ç–æ—Ä –≤–∑—è—Ç–∏—è –∞–¥—Ä–µ—Å–∞)**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–¥—Ä–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ –ø–∞–º—è—Ç–∏.
- **`*` (–æ–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏—è)**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å.

```go
x := 42
p := &x         // p - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ x (—Ö—Ä–∞–Ω–∏—Ç –∞–¥—Ä–µ—Å x)

fmt.Println(x)  // 42
fmt.Println(p)  // 0xc0000180a8 (–∞–¥—Ä–µ—Å x –≤ –ø–∞–º—è—Ç–∏)
fmt.Println(*p) // 42 (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∞–¥—Ä–µ—Å—É p)

*p = 100        // –ò–∑–º–µ–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ x —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å
fmt.Println(x)  // 100
```

### –ù—É–ª–µ–≤–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å `nil`
–ù—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª—è ‚Äî `nil`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∏–∫—É–¥–∞ –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç.

!!! danger "–ü–∞–Ω–∏–∫–∞ –ø—Ä–∏ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–∏ `nil`"
    –ü–æ–ø—ã—Ç–∫–∞ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞—Ç—å `nil`-—É–∫–∞–∑–∞—Ç–µ–ª—å (`*p`, –≥–¥–µ `p == nil`) –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ **–ø–∞–Ω–∏–∫–µ** –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫ –≤ Go.

    ```go
    var p *int
    fmt.Println(*p) // ‚ùå panic: runtime error: invalid memory address or nil pointer dereference
    ```
    –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `nil` –ø–µ—Ä–µ–¥ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º, –µ—Å–ª–∏ –µ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–ª–µ–≤—ã–º.

---

## ‚öñÔ∏è –ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é vs. –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é

–í Go –≤—Å–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ **–ø–æ –∑–Ω–∞—á–µ–Ω–∏—é**.
- –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ **–æ–±—ã—á–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π** (int, string, struct) —Å–æ–∑–¥–∞–µ—Ç—Å—è –µ—ë **–∫–æ–ø–∏—è**.
- –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ **—É–∫–∞–∑–∞—Ç–µ–ª—è** —Å–æ–∑–¥–∞–µ—Ç—Å—è **–∫–æ–ø–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è**, –Ω–æ –æ–±–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è (–æ—Ä–∏–≥–∏–Ω–∞–ª –∏ –∫–æ–ø–∏—è) —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ **–æ–¥–Ω—É –∏ —Ç—É –∂–µ –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏**.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è–º –∏–∑–º–µ–Ω—è—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

```go
func incrementValue(v int) {
    v++ // –ò–∑–º–µ–Ω—è–µ—Ç –∫–æ–ø–∏—é
}

func incrementPointer(p *int) {
    *p++ // –ò–∑–º–µ–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
}

func main() {
    x := 10
    incrementValue(x)
    fmt.Println(x) // 10 (–Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å)

    incrementPointer(&x)
    fmt.Println(x) // 11 (–∏–∑–º–µ–Ω–∏–ª–æ—Å—å)
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏:**
1.  –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è –º–æ–≥–ª–∞ **–∏–∑–º–µ–Ω–∏—Ç—å** –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
2.  –ö–æ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ **–æ—á–µ–Ω—å –±–æ–ª—å—à–∞—è**. –ü–µ—Ä–µ–¥–∞—á–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è (8 –±–∞–π—Ç –Ω–∞ 64-–±–∏—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ) –Ω–∞–º–Ω–æ–≥–æ –¥–µ—à–µ–≤–ª–µ, —á–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

---

## üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã

### –ü–∞–∫–µ—Ç `unsafe`
–ü–∞–∫–µ—Ç `unsafe` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ö–æ–¥—è—Ç —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤ Go. –ï–≥–æ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –ª–∏—à–∞–µ—Ç –≤–∞—Å –≥–∞—Ä–∞–Ω—Ç–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã—Ö —è–∑—ã–∫–æ–º.

- **`unsafe.Pointer`**: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø —É–∫–∞–∑–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–∏–ø —É–∫–∞–∑–∞—Ç–µ–ª—è. –≠—Ç–æ "–º–æ—Å—Ç" –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.
- **`uintptr`**: –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π —Ç–∏–ø, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–π, —á—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å **–∞—Ä–∏—Ñ–º–µ—Ç–∏–∫—É —É–∫–∞–∑–∞—Ç–µ–ª–µ–π**.

```go
type MyStruct struct {
    A int
    B bool
}
s := MyStruct{A: 1, B: true}

// –ü–æ–ª—É—á–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø–æ–ª–µ B —á–µ—Ä–µ–∑ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫—É —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
// –ö–†–ê–ô–ù–ï –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø!
ptrB := (*bool)(unsafe.Pointer(uintptr(unsafe.Pointer(&s)) + unsafe.Offsetof(s.B)))
fmt.Println(*ptrB) // true
```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `unsafe` –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–∞–≤–¥–∞–Ω–æ –≤ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–º –∫–æ–¥–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ –∏–ª–∏ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö.
