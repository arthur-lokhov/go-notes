---
title: –û–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
---

# üî≠ –û–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ Go

**–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏** (scope) ‚Äî —ç—Ç–æ —É—á–∞—Å—Ç–æ–∫ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞, –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞, —Ç–∏–ø, —Ñ—É–Ω–∫—Ü–∏—è) —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω.

–í Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–ª–µ–∫—Å–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏**, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –≥–¥–µ –≤ –∫–æ–¥–µ –æ–±—ä—è–≤–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä.

---

## üìä –£—Ä–æ–≤–Ω–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

–í Go –∫–∞–∂–¥–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–º–µ–µ—Ç **–æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏** ‚Äî —á–∞—Å—Ç—å –∫–æ–¥–∞, –≥–¥–µ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞.

–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å:

- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è** (–ø–∞–∫–µ—Ç–Ω–∞—è) ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤–æ –≤—Å—ë–º –ø–∞–∫–µ—Ç–µ.
- **–õ–æ–∫–∞–ª—å–Ω–∞—è** ‚Äî –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –±–ª–æ–∫–∞.

```go
package main

import "fmt"

var a int = 1 // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ

func main() {
    var b int = 2 // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ main()
    {
        var c int = 3 // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –±–ª–æ–∫–∞
        fmt.Println(a, b, c) // 1 2 3
    }
    fmt.Println(a, b) // 1 2
    // fmt.Println(c) // ‚ùå –û—à–∏–±–∫–∞: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `c` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
}
```

### üì¶ –û–±–ª–∞—Å—Ç—å –ø–∞–∫–µ—Ç–∞

–í—Å–µ –æ–±—ä–µ–∫—Ç—ã, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–π, –≤–∏–¥–Ω—ã –≤–æ –≤—Å—ë–º –ø–∞–∫–µ—Ç–µ.

–≠—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å:

- –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
- –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.
- —Ñ—É–Ω–∫—Ü–∏–∏.
- —Ç–∏–ø—ã.
- –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

```go
package config

var version = "1.0.0" // –¥–æ—Å—Ç—É–ø–Ω–∞ –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö –ø–∞–∫–µ—Ç–∞ config
```



### üî¨ –û–±–ª–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã **—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë**.

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, —Å–∫—Ä—ã—Ç—ã –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.
–û–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é –∏ —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ.

```go hl_lines="2 5"
func greet(name string) {
    // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è name —Å–æ–∑–¥–∞–µ—Ç—Å—è
    message := "Hello, " + name
    fmt.Println(message)
    // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è name —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è
}
```

### üß± –û–±–ª–∞—Å—Ç—å –±–ª–æ–∫–∞

–ö–∞–∂–¥—ã–π –±–ª–æ–∫, –∑–∞–∫–ª—é—á—ë–Ω–Ω—ã–π –≤ —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ `{}`, —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏.
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä—è–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∑–∞ –µ–≥–æ –ø—Ä–µ–¥–µ–ª–∞–º–∏.

–ë–ª–æ–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏:

- `func` ‚Äî —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏.
- `{}` ‚Äî –∞–Ω–æ–Ω–∏–º–Ω—ã–π –±–ª–æ–∫.
- `if` / `else`.
- `for`.
- `switch`.
- `select`.

```go
func main() {
    if true {
        x := 10
        fmt.Println(x)
    }
    // fmt.Println(x) // –æ—à–∏–±–∫–∞: x –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞

    {
        y := 20
        fmt.Println(y)
    }
    // fmt.Println(y) // –æ—à–∏–±–∫–∞: y –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
}
```

!!! note "–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ `switch` –∏ `select`"

    –í–æ–ø—Ä–µ–∫–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–º—É –∑–∞–±–ª—É–∂–¥–µ–Ω–∏—é, –≤ `switch` –∏ `select` –∫–∞–∂–¥—ã–π –±–ª–æ–∫ `case` **—Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ª–µ–∫—Å–∏—á–µ—Å–∫—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏**.
    –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –æ–±—ä—è–≤–ª–µ–Ω–Ω–∞—è –≤ –æ–¥–Ω–æ–º `case`, –Ω–µ –≤–∏–¥–Ω–∞ –≤ –¥—Ä—É–≥–æ–º.

    –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä—è–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö `case` –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.

    !!! example "–ü—Ä–∏–º–µ—Ä"

        ```go
        func main() {
            x := 1
            switch x {
            case 1:
                v := "–æ–¥–∏–Ω" // –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ v ‚Äî —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç case
                fmt.Println(v)
            case 2:
                v := "–¥–≤–∞" // –≠—Ç–æ –Ω–æ–≤–∞—è, –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è v
                fmt.Println(v)
            // fmt.Println(v) // ‚ùå –û—à–∏–±–∫–∞: v –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ case
            }
        }
        ```

---

## üß† –ó–∞–º—ã–∫–∞–Ω–∏—è (Closure)

!!! abstract "–ß—Ç–æ —Ç–∞–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ?"

    **–ó–∞–º—ã–∫–∞–Ω–∏–µ** ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–∞–∂–µ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏.

```go
package main

import "fmt"

func adder() func(int) int {
	sum := 0
	return func(x int) int {
		sum += x
		return sum
	}
}

func main() {
	pos, neg := adder(), adder()
	for i := 0; i < 10; i++ {
		fmt.Println(
			pos(i),
			neg(-2*i),
		)
	}
}
```

–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ:

- `pos` –∏ `neg` –∏–º–µ—é—Ç —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–ø–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ `sum`.
- `sum` –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —ç—Ç–æ–π —Å–∞–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

### üé° –ó–∞–º—ã–∫–∞–Ω–∏—è –≤ —Ü–∏–∫–ª–∞—Ö

–û–¥–Ω–∞ –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö "–ª–æ–≤—É—à–µ–∫" –≤ Go —Å–≤—è–∑–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–∞–º—ã–∫–∞–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–æ–≤ `for`.
–ï—Å–ª–∏ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –æ–Ω–æ –º–æ–∂–µ—Ç –∑–∞—Ö–≤–∞—Ç–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ—ë, –∞ –Ω–µ –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ Go.

!!! warning "–ü—Ä–æ–±–ª–µ–º–∞: –∑–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø–æ —Å—Å—ã–ª–∫–µ (–¥–æ Go 1.22)"

    **–í –≤–µ—Ä—Å–∏—è—Ö Go –¥–æ 1.22** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `for`-—Ü–∏–∫–ª–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.
    –≠—Ç–æ –æ–∑–Ω–∞—á–∞–ª–æ, —á—Ç–æ –≤—Å–µ –∑–∞–º—ã–∫–∞–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ —Ü–∏–∫–ª–µ, —Å—Å—ã–ª–∞–ª–∏—Å—å –Ω–∞ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –º–µ—Å—Ç–æ –≤ –ø–∞–º—è—Ç–∏.

    –ö –º–æ–º–µ–Ω—Ç—É –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–∏–∫–ª —É–∂–µ –∑–∞–≤–µ—Ä—à–∞–ª—Å—è, –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–º–µ–ª–∞ —Å–≤–æ—ë –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

    !!! example "–ü—Ä–∏–º–µ—Ä –¥–æ Go 1.22"

        ```go
        func main() {
            var prints []func()
            for i := 0; i < 3; i++ {
                prints = append(prints, func() {
                    fmt.Println(i)
                })
            }

            for _, p := range prints {
                p()
            }
        }

        // –í—ã–≤–æ–¥ –¥–æ Go 1.22:
        // 3
        // 3
        // 3
        ```

        –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–≤–µ–¥—É—Ç `3`, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞ –º–æ–º–µ–Ω—Ç –∏—Ö –≤—ã–∑–æ–≤–∞ —Ü–∏–∫–ª —É–∂–µ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è, –∏ `i` —Ä–∞–≤–Ω–∞ `3`.

!!! success "–†–µ—à–µ–Ω–∏–µ: —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –∫–æ–ø–∏–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏—è—Ö)"

    –ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Go, –Ω—É–∂–Ω–æ –±—ã–ª–æ —è–≤–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞.
    –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–ª–æ, —á—Ç–æ –∫–∞–∂–¥–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç–∏—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é, –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

    –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–¥—ë–∂–Ω—ã–º –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏—è—Ö Go.

    !!! example "–ü—Ä–∏–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ"

        ```go
        func main() {
            var prints []func()
            for i := 0; i < 3; i++ {
                i := i // –°–æ–∑–¥–∞—ë–º –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é `i` –¥–ª—è –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
                prints = append(prints, func() {
                    fmt.Println(i)
                })
            }

            for _, p := range prints {
                p()
            }
        }

        // –í—ã–≤–æ–¥:
        // 0
        // 1
        // 2
        ```
    
    –ö–∞–∂–¥–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ `i` –∏ –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

!!! tip "–ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ Go 1.22 –∏ –Ω–æ–≤–µ–µ"

    **–ù–∞—á–∏–Ω–∞—è —Å Go 1.22**, –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤ `for` –∏–∑–º–µ–Ω–∏–ª–æ—Å—å.
    –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ** –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.
    –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—â–µ.

    –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö `for`-—Ü–∏–∫–ª–æ–≤ (`for`, `for...range`) —è–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –∫–æ–ø–∏–∏ **–±–æ–ª—å—à–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** –¥–ª—è –∑–∞–º—ã–∫–∞–Ω–∏–π.

---

## üëª –°–æ–∫—Ä—ã—Ç–∏–µ (Shadowing)

!!! abstract "–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–æ–∫—Ä—ã—Ç–∏–µ?"

    **–°–æ–∫—Ä—ã—Ç–∏–µ** (shadowing) ‚Äî —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å —Ç–∞–∫–∏–º –∂–µ –∏–º–µ–Ω–µ–º –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏.

```go
x := 1
{
    x := 2 // —Å–∫—Ä—ã–≤–∞–µ—Ç –≤–Ω–µ—à–Ω—é—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
    fmt.Println(x) // 2
}
fmt.Println(x) // 1
```

!!! warning "–°–æ–∫—Ä—ã—Ç–∏–µ —Å –ø–æ–º–æ—â—å—é `:=`"

    –ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã: –æ–ø–µ—Ä–∞—Ç–æ—Ä `:=` –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ —Ç–µ–∫—É—â–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–æ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏.

    –≠—Ç–æ —Ç–∞–∫–∂–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∏ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ —Å–∫—Ä—ã—Ç—å.

    ```go
    func process(data string) {
        fmt.Printf("–ü–∞—Ä–∞–º–µ—Ç—Ä: %s", data) // "input"

        if data != "" {
            // –≠—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `data` —Å–∫—Ä—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏
            data := strings.ToUpper(data)
            fmt.Printf("–õ–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: %s", data) // "INPUT"
        }

        fmt.Printf("–ü–∞—Ä–∞–º–µ—Ç—Ä –ø–æ—Å–ª–µ if: %s", data) // "input"
    }
    ```

### üß© –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ

–°–æ–∫—Ä—ã—Ç–∏–µ —Ç–∞–∫–∂–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –ø—Ä–∏ **–≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–∏ (embedding) —Å—Ç—Ä—É–∫—Ç—É—Ä**.

–ï—Å–ª–∏ –≤–Ω–µ—à–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–º–µ–µ—Ç –ø–æ–ª–µ —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º, —á—Ç–æ –∏ –≤–ª–æ–∂–µ–Ω–Ω–∞—è, —Ç–æ –≤–Ω–µ—à–Ω–µ–µ –ø–æ–ª–µ —Å–∫—Ä—ã–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ–µ.

```go
type Inner struct {
	Name string
}

type Outer struct {
	Name string // –°–∫—Ä—ã–≤–∞–µ—Ç Inner.Name
	Inner
}

func main() {
    o := Outer{
        Name: "outer",
        Inner: Inner{Name: "inner"},
    }

    fmt.Println(o.Name)       // "outer"
    fmt.Println(o.Inner.Name) // "inner"
}
```

!!! info "–ü—Ä–æ–º–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π"

    –ú–µ—Ö–∞–Ω–∏–∑–º —Å–æ–∫—Ä—ã—Ç–∏—è –∏–º—ë–Ω –ø—Ä–∏ –ø—Ä–æ–º–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏.

    –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî —Å–º. –≤ –≥–ª–∞–≤–µ –ø—Ä–æ *[—Å—Ç—Ä—É–∫—Ç—É—Ä—ã](./structs.md)*.

---

## üß¨ –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

### üå≥ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Scope`

!!! info "–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ `Scope` —Å–º. –≤ (go/go) üëâ [**scope.go**](https://cs.opensource.google/go/go/+/master:src/go/types/scope.go)."

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Scope` –∏–≥—Ä–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é —Ä–æ–ª—å –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ Go, **–æ—Ç–≤–µ—á–∞—è –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç—è–º–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º—ë–Ω**.

–ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç, —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –±–ª–æ–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –µ–≥–æ —É—Ä–æ–≤–Ω–µ —Å—É—â–Ω–æ—Å—Ç–∏.

`Scope` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞–±–æ—Ä –æ–±—ä–µ–∫—Ç–æ–≤ (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –∏–º–µ–Ω–∞) –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–≤–æ–∏ **—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ** –∏ **–¥–æ—á–µ—Ä–Ω–∏–µ** –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, —Ñ–æ—Ä–º–∏—Ä—É—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ. –û–±—ä–µ–∫—Ç—ã –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –∏ –∏—Å–∫–∞—Ç—å –ø–æ –∏–º–µ–Ω–∏.

–ù—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `Scope` ‚Äî **–≥–æ—Ç–æ–≤–∞—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø—É—Å—Ç–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏**.

```go
type Scope struct {
	parent   *Scope
	children []*Scope
	number   int
	elems    map[string]Object
	pos, end token.Pos
	comment  string
	isFunc   bool
}
```

| –ü–æ–ª–µ       | –¢–∏–ø                 | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                     |
| :--------- | :------------------ | :------------------------------------------------------------------------------------------- |
| `parent`   | `*Scope`            | –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å).                                                  |
| `children` | `[]*Scope`          | –°–ø–∏—Å–æ–∫ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏.                                                         |
| `number`   | `int`               | –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏ —Å—Ä–µ–¥–∏ –¥–æ—á–µ—Ä–Ω–∏—Ö —É —Ä–æ–¥–∏—Ç–µ–ª—è.                                     |
| `elems`    | `map[string]Object` | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º—ë–Ω –Ω–∞ –æ–±—ä–µ–∫—Ç—ã (`Object`). **–û–±—ä–µ–∫—Ç** ‚Äî —ç—Ç–æ –ª—é–±–∞—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –≤ Go (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, —Ñ—É–Ω–∫—Ü–∏—è, —Ç–∏–ø –∏ —Ç.–¥.). |
| `pos`      | `token.Pos`         | –ü–æ–∑–∏—Ü–∏—è –Ω–∞—á–∞–ª–∞ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ.                                            |
| `end`      | `token.Pos`         | –ü–æ–∑–∏—Ü–∏—è –∫–æ–Ω—Ü–∞ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ.                                             |
| `comment`  | `string`            | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.                                                                     |
| `isFunc`   | `bool`              | –£–∫–∞–∑—ã–≤–∞–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–±–ª–∞—Å—Ç—å —Ç–µ–ª–æ–º —Ñ—É–Ω–∫—Ü–∏–∏.                                                |

!!! info "–ü—Ä–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Object`"

    `Object` ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ª—é–±—É—é –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å –≤ Go: –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, —Ñ—É–Ω–∫—Ü–∏—é, —Ç–∏–ø –∏–ª–∏ –ø–∞–∫–µ—Ç.

    –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ `Object` –∏ –µ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (`Var`) —Å–º. –≤ –≥–ª–∞–≤–µ üëâ [**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**](./variables.md).

### üåå –û–±—ä–µ–∫—Ç `Universe`

!!! info "–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ `Universe` —Å–º. –≤ (go/go) üëâ [**universe.go**](https://cs.opensource.google/go/go/+/master:src/go/types/universe.go)."

–ö–æ–≥–¥–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—Å—Ç—Ä–µ—á–∞–µ—Ç –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fmt.Println`), –æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–æ–∏—Å–∫:

1.  –°–Ω–∞—á–∞–ª–∞ –≤ —Ç–µ–∫—É—â–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.
2.  –ó–∞—Ç–µ–º –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.
3.  –ò –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç —Å–∞–º–æ–π –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ ‚Äî `Universe`.

`Universe` ‚Äî —ç—Ç–æ **—Å–∞–º–∞—è –≤–Ω–µ—à–Ω—è—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏** –≤ –ª—é–±–æ–π —Ü–µ–ø–æ—á–∫–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏.

–û–Ω–∞ **—Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã Go**, —Ç–æ –µ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª –≤ –ª—é–±–æ–º Go-–ø—Ä–æ–µ–∫—Ç–µ –±–µ–∑ —è–≤–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞.

```go
var Universe *Scope
```

–ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `Universe`:

- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã**: `int`, `string`, `bool`, `error`, `float64`, `byte`, `rune`, `complex128` –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: `len`, `cap`, `make`, `new`, `append`, `copy`, `panic`, `recover`, `print`, `println`, `delete` –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**: `true`, `false`, `iota`, `nil`.

–ö–æ–≥–¥–∞ –≤—ã –ø–∏—à–∏—Ç–µ `len("Hello")`, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç `len` –∏–º–µ–Ω–Ω–æ –≤ `Universe` Scope.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, `Universe` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –±–∞–∑–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —è–∑—ã–∫–∞ Go, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ –ª—é–±–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
—ã–∫–∞ Go, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ –ª—é–±–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
