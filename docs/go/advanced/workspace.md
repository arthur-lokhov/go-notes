---
title: ะะฐะฑะพัะธะต ะฟัะพัััะฐะฝััะฒะฐ
---

# ๐ฆ `go.work`: ะะฐะฑะพัะธะต ะฟัะพัััะฐะฝััะฒะฐ

## ๐ ะงัะพ ัะฐะบะพะต `go.work`

!!! note "`go.work` - ััะพ ะผะตัะฐะฝะธะทะผ ะธะท Go 1.18+, ะบะพัะพััะน ะฟะพะผะพะณะฐะตั ะพัะณะฐะฝะธะทะพะฒะฐัั ัะฐะฑะพัั ั ะฝะตัะบะพะปัะบะธะผะธ Go-ะผะพะดัะปัะผะธ ะฒ ัะฐะผะบะฐั ะพะดะฝะพะน ะบะพะดะพะฒะพะน ะฑะฐะทั (ะฝะฐะฟัะธะผะตั, ะผะพะฝะพัะตะฟะพะทะธัะพัะธั)."

ะะฝ ะณะพะฒะพัะธั ะบะพะผะฟะธะปััะพัั ะธ ะธะฝััััะผะตะฝัะฐะผ Go ะธัะฟะพะปัะทะพะฒะฐัั ะปะพะบะฐะปัะฝัะต ะฟััะธ ะบ ะผะพะดัะปัะผ, ัะบะฐะทะฐะฝะฝัะต ะฒ ะดะธัะตะบัะธะฒะต `use`, ะฒะผะตััะพ ะฒะตััะธะน ะธะท ะฟัะพะบัะธ ะธะปะธ `go.mod`.

ะญัะพ ัะดะพะฑะฝะพ:

- ะฟัะธ ัะฐะทัะฐะฑะพัะบะต ะฑะธะฑะปะธะพัะตะบ ะฒ ัะฐะผะบะฐั ะพะดะฝะพะณะพ ัะตะฟะพะทะธัะพัะธั,
- ะฟัะธ ะฟัะฐะฒะบะต ะทะฐะฒะธัะธะผะพััะตะน ะฑะตะท ะฟัะฑะปะธะบะฐัะธะธ ะฝะพะฒัั ะฒะตััะธะน,
- ะดะปั ะผะพะฝะพัะตะฟ,
- ะดะปั ัะฐะฑะพัั ะฒ ะบะพะผะฐะฝะดะต (ะฑะตะท replace-ัะฐะพัะฐ).

---

## ๐งฉ ะัะธะผะตั `go.work`

```gowork
go 1.22

use (
    ./app
    ../libs/common
    ../libs/logger
)
```

Go ะฑัะดะตั ะธัะบะฐัั ะผะพะดัะปะธ ะฟะพ ัะบะฐะทะฐะฝะฝัะผ ะฟัััะผ:

- `./app`,
- `../libs/common`,
- `../libs/logger`.

ะัะปะธ ะพะดะธะฝ ะธะท ััะธั ะฟััะตะน ัะพะพัะฒะตัััะฒัะตั ะทะฐะฒะธัะธะผะพััะธ ะธะท `go.mod` ะบะฐะบะพะณะพ-ะปะธะฑะพ ะผะพะดัะปั ะฒ `go.work` โ ะพะฝ ะฑัะดะตั ะธัะฟะพะปัะทะพะฒะฐัั ะปะพะบะฐะปัะฝัั ะฒะตััะธั, ะฐ ะฝะต ัั, ััะพ ัะบะฐะทะฐะฝะฐ ะฒ `require`.

---

## โ๏ธ ะะพะผะฐะฝะดั `go work`

| ะะพะผะฐะฝะดะฐ               | ะะฐะทะฝะฐัะตะฝะธะต                                                               |
| --------------------- | ------------------------------------------------------------------------ |
| `go work init [dirs]` | ะกะพะทะดะฐะตั ัะฐะนะป `go.work` ั ัะบะฐะทะฐะฝะฝัะผะธ ะฟัััะผะธ.                              |
| `go work use [dirs]`  | ะะพะฑะฐะฒะปัะตั ะดะธัะตะบัะพัะธะธ ั ะผะพะดัะปัะผะธ ะฒ `use`-ัะตะบัะธั.                          |
| `go work edit`        | ะัะพะณัะฐะผะผะฝะพะต ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต (ะดะพะฑะฐะฒะปะตะฝะธะต, ัะดะฐะปะตะฝะธะต ะฟััะตะน, ะธะทะผะตะฝะตะฝะธะต `go`). |
| `go work sync`        | ะกะธะฝััะพะฝะธะทะธััะตั ะฒะตััะธะธ ะทะฐะฒะธัะธะผะพััะตะน ะฒัะตั ะผะพะดัะปะตะน ะฝะฐ ะตะดะธะฝัั.               |
| `go work vendor`      | ะกะพะทะดะฐะตั `vendor/` ะดะปั ะฒัะตะณะพ ัะฐะฑะพัะตะณะพ ะฟัะพัััะฐะฝััะฒะฐ.                       |

ะัะธะผะตัั ะบะพะผะฐะฝะด:

```bash
go work init ./main ./libs/mylib
go work use ../auth ../billing
go work sync
go work edit -dropuse ./libs/logger
```

---

## ๐ ะงัะพ ะดะตะปะฐะตั go work sync ะฝะฐ ัะฐะผะพะผ ะดะตะปะต

ะะพะผะฐะฝะดะฐ `go work sync`:

- ๐ ะกะบะฐะฝะธััะตั ะฒัะต ะผะพะดัะปะธ, ะฟะตัะตัะธัะปะตะฝะฝัะต ะฒ `use`, ะธ ะฝะฐัะพะดะธั ะฟะตัะตัะตัะตะฝะธั ะทะฐะฒะธัะธะผะพััะตะน,
- ๐งฎ ะัะฟะพะปัะทัะตั ะฐะปะณะพัะธัะผ ะผะธะฝะธะผะฐะปัะฝะพะณะพ ะฒัะฑะพัะฐ ะฒะตััะธะธ, ััะพะฑั ัะฝะธัะธัะธัะพะฒะฐัั ะทะฐะฒะธัะธะผะพััะธ ะผะตะถะดั ะผะพะดัะปัะผะธ,
- ๐ ะะพะถะตั ะฒะฝะตััะธ ะธะทะผะตะฝะตะฝะธั ะฒ `go.mod`-ัะฐะนะปั ะฒัะตั ะฟะพะดะบะปัััะฝะฝัั ะผะพะดัะปะตะน, ะพะฑะฝะพะฒะธะฒ ะฒะตััะธะธ ะทะฐะฒะธัะธะผะพััะตะน, ััะพะฑั ะพะฝะธ ัะพะฒะฟะฐะดะฐะปะธ,
- ๐ก ะญัะพ ะฐะฝะฐะปะพะณ ัััะฝะพะน ะฟัะฐะฒะบะธ `go.mod`, ะฝะพ ัะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะพ.

!!! info "ะะปะณะพัะธัะผ ะผะธะฝะธะผะฐะปัะฝะพะณะพ ะฒัะฑะพัะฐ ะฒะตััะธะธ"

    ะัะพ ะผะธะฝะธะผะฐะปัะฝัะน ะฒัะฑะพั ะฒะตััะธะธ (**MVS**) ัะฐััะบะฐะทัะฒะฐะตััั ะฒ ะณะปะฐะฒะต ะพ [ะผะพะดัะปัั](./modules.md).

---

## ๐ง ะะฐะบ Go ะฒัะฑะธัะฐะตั ะฒะตััะธั ะผะพะดัะปั ะฒ `go.work`

ะัะปะธ ะฒ `go.mod` ะฟัะพะตะบัะฐ ัะบะฐะทะฐะฝะพ:

```gomod
require github.com/acme/common v1.2.3
```

ะฐ ะฒ ัะฐะนะปะต `go.work` ะฟัะพะฟะธัะฐะฝ ะฟััั ะบ ะปะพะบะฐะปัะฝะพะน ะบะพะฟะธะธ ััะพะน ะฑะธะฑะปะธะพัะตะบะธ:

```gowork
use (
    ../libs/common
)
```

ะธ ะฒะฝัััะธ `../libs/common/go.mod` ัะบะฐะทะฐะฝ ัะพั ะถะต ัะฐะผัะน ะผะพะดัะปัะฝัะน ะฟััั:

```gomod
module github.com/acme/common
```

ัะพ Go ะฟะพะฝะธะผะฐะตั: ะญัะพ ะพะดะฝะฐ ะธ ัะฐ ะถะต ะฑะธะฑะปะธะพัะตะบะฐ, ะฟัะพััะพ ัะตะนัะฐั ะพะฝะฐ ะปะตะถะธั ะปะพะบะฐะปัะฝะพ, ะธ ะผะฝะต ะฝัะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ะธะผะตะฝะฝะพ ััั ะปะพะบะฐะปัะฝัั ะฒะตััะธั, ะฐ ะฝะต ะทะฐะณััะถะฐัั ะตั ัะตัะตะท proxy.

!!! note "ะะฐะฝะฝะพะต ะฟะพะฒะตะดะตะฝะธะต ะฟะพะปะฝะพัััั ะฐะฝะฐะปะพะณะธัะฝะพ ัััะฝะพะน ะทะฐะผะตะฝะต ั ะฟะพะผะพััั `replace`"
    
    ```gomod
    replace github.com/acme/common => ../libs/common
    ```

---

## ๐งฎ ะงัะพ, ะตัะปะธ ะฒะตััะธะธ ะผะพะดัะปะตะน ัะฐััะพะดัััั

ะัะปะธ ะผะพะดัะปะธ ะฒ `go.work` ะทะฐะฒะธััั ะพั ัะฐะทะฝัั ะฒะตััะธะน ะพะดะฝะพะน ะฑะธะฑะปะธะพัะตะบะธ, ะฝะฐะฟัะธะผะตั:

`app/go.mod`:

```gomod
require github.com/some/dependency v1.2.0
```

`libs/common/go.mod`:

```gomod
require github.com/some/dependency v1.1.0
```

!!! note "ะขะพ ัะพะณะปะฐัะฝะพ MVS ะฒัะฑะธัะฐะตััั ะฝะฐะธะฑะพะปััะฐั ััะตะฑัะตะผะฐั ะฒะตััะธั - `v1.2.0`."

ะะท-ะทะฐ ััะพะณะพ ะฒะฐะถะฝะพ ะบะพะฝััะพะปะปะธัะพะฒะฐัั ะทะฐะฒะธัะธะผะพััะธ ะฒะตะดั ะผะตะถะดั `v1.1.0` ะธ `v1.2.0` ะผะพะถะตั ะฑััั ะฝะตัะพะฒะผะตััะธะผะพััั ะฒะตััะธะน.

---

## ๐ `go.work` vs `replace`

| ๐ง **ะัะธัะตัะธะน**                    | ๐ **`replace`**                        | ๐งฉ **`go.work`**                                              |
| ---------------------------------- | --------------------------------------- | ------------------------------------------------------------- |
| ๐ **ะะดะต ะธัะฟะพะปัะทัะตััั**            | ะ `go.mod` ะบะฐะถะดะพะณะพ ะผะพะดัะปั               | ะ ะพะดะฝะพะผ `go.work` ะดะปั ะฒัะตะณะพ ัะฐะฑะพัะตะณะพ ะฟัะพัััะฐะฝััะฒะฐ             |
| ๐ฆ **ะะฑะปะฐััั ะดะตะนััะฒะธั**            | ะขะพะปัะบะพ ะฒ ัะตะบััะตะผ ะผะพะดัะปะต                 | ะัะต ะผะพะดัะปะธ, ัะบะฐะทะฐะฝะฝัะต ะฒ `use`                                 |
| โ๏ธ **ะะฐัััะพะนะบะฐ**                   | ะััะฝะพะต ะดะพะฑะฐะฒะปะตะฝะธะต ะฒ ะบะฐะถะดัะน `go.mod`     | ะะดะธะฝ ัะฐะท ัะตัะตะท `go work use`, ะผะพะถะฝะพ ัะตะบัััะธะฒะฝะพ                |
| ๐งโ๐ป **ะัััะต ะฒัะตะณะพ ะฟะพะดัะพะดะธั ะดะปั** | ะัะตะผะตะฝะฝัะต ะฟะพะดะผะตะฝั, forking ะทะฐะฒะธัะธะผะพััะตะน | ะะพะฝะพ-ัะตะฟ, ะบะพะผะฐะฝะดะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ, ะฒะฝัััะตะฝะฝัั ัะฐะทัะฐะฑะพัะบะฐ ะฟะฐะบะตัะพะฒ |
| โ๏ธ **ะะณัะฐะฝะธัะตะฝะธั ะธ ะผะธะฝััั**        | ะะพะฒัะพััะตััั, ะปะตะณะบะพ ะทะฐะฑััั ะพะฑะฝะพะฒะธัั      | ะขัะตะฑัะตั Go 1.18+, ะฝะต ัะฐะฑะพัะฐะตั ะฑะตะท `go.work`                   |

---

## ๐งช ะะพะผะฑะธะฝะฐัะธั go.work ะธ replace

ะั ะผะพะถะตัะต ะธัะฟะพะปัะทะพะฒะฐัั `go.work` ะฒะผะตััะต ั `replace` ะฒะฝัััะธ ะพัะดะตะปัะฝัั `go.mod`.

```gowork
go 1.22

use (
    ./app
    ./libs/common
)
```

ะ `app/go.mod`:

```gomod
require github.com/ext/foo v1.2.0

replace github.com/ext/foo => ../forks/foo
```

!!! warning "ะัะปะธ `replace` ะธ `use` ัะบะฐะทัะฒะฐัั ะฝะฐ ะพะดะฝะพ ะธ ัะพ ะถะต โ `use` ะธะท `go.work` ะธะผะตะตั ะฟัะธะพัะธัะตั."

---

## ๐ ะัะธะผะตั ััััะบัััั ัะฐะฑะพัะตะณะพ ะฟัะพัััะฐะฝััะฒะฐ

ะกัััะบัััะฐ ะฟัะพะตะบัะฐ:

```bash
project-root/
โโโ go.work
โโโ app/
โ   โโโ go.mod (require github.com/acme/common v1.0.0)
โโโ libs/
โ   โโโ common/
โ       โโโ go.mod (module github.com/acme/common)
```

ะคะฐะนะป `go.work`:

```gowork
go 1.22

use (
    ./app
    ./libs/common
)
```

ะขะตะฟะตัั `app` ะธัะฟะพะปัะทัะตั ะปะพะบะฐะปัะฝัั ะฒะตััะธั `github.com/acme/common`, ะดะฐะถะต ะตัะปะธ ะฒ `go.mod` ัะบะฐะทะฐะฝะฐ ะดััะณะฐั ะฒะตััะธั.

---

## ๐ง ะะณัะฐะฝะธัะตะฝะธั ะธ ะพัะพะฑะตะฝะฝะพััะธ

- ๐ ะัะต ะฟััะธ ะฒ `use` ะดะพะปะถะฝั ัะบะฐะทัะฒะฐัั ะฝะฐ ะดะธัะตะบัะพัะธะธ ั `go.mod`.
- ๐งช ะฃ ะฒะฐั ะฝะต ะดะพะปะถะฝะพ ะฑััั ะบะพะฝัะปะธะบัะฐ ะฟััะตะน ะผะพะดัะปะตะน โ Go ะฒัะฑะตัะตั ะฟะตัะฒัะน, ััะพ ะฝะฐะนะดะตะฝ.
- ๐งฑ `go.work` ะฝะต ะฟัะฑะปะธะบัะตััั ะธ ะฝะต ะฒะปะธัะตั ะฝะฐ `go.mod` โ ะพะฝ ะปะพะบะฐะปะตะฝ, ะฐะฝะฐะปะพะณ `.tool-versions` ะธะปะธ `.nvmrc`.
- ๐ค ะฅะพัะพัะพ ะฟะพะดะดะตัะถะธะฒะฐะตััั GoLand, gopls, VSCode (ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะดัะฒะฐััะฒะฐะตััั), ะฝะพ ะฟัะพะตะบั ะดะพะปะถะตะฝ ะฑััั ะพัะบััั ะฒ ะบะพัะฝะต ั ัะฐะนะปะพะผ `go.work`.
- ๐ ะะฐะฑะพัะฐะตั ะฒะผะตััะต ั `replace`, ะฝะพ `use` ะฒ `go.work` ะธะผะตะตั ะฟัะธะพัะธัะตั.
- โ ะะต ัะฐะฑะพัะฐะตั ะฒ Go ะดะพ ะฒะตััะธะธ **1.18**.
- ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต `go.work vendor` ััะตะฑัะตั ัััะฝะพะณะพ ัะฟัะฐะฒะปะตะฝะธั `vendor`.
- ๐งพ ะัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ `go.work`, Go ัะพะทะดะฐะตั ัะฐะนะป `go.work.sum`, ะฐะฝะฐะปะพะณะธัะฝัะน `go.sum`, ะฝะพ ะดะปั ะฒัะตั ะฟะพะดะบะปัััะฝะฝัั ะผะพะดัะปะตะน.

---

## ๐ ะขะธะฟะพะฒัะต ััะตะฝะฐัะธะธ

### ๐งฑ ะะพะฝะพ-ัะตะฟะพะทะธัะพัะธะน

```bash
repo/
โโโ go.work
โโโ services/
โ   โโโ service-a/
โ   โโโ service-b/
โโโ libs/
โ   โโโ common/
โ   โโโ logger/
```

```gowork
use (
    ./services/service-a
    ./services/service-b
    ./libs/common
    ./libs/logger
)
```

### ๐ง ะะพััะตะฑะธัะตะปั

```bash
cd consumer/
go work init . ../my-lib
```

ะขะตะฟะตัั ะผะพะถะฝะพ ะฟัะฐะฒะธัั `../my-lib`, ะธ `consumer` ะฑัะดะตั ะฒะธะดะตัั ะฐะบััะฐะปัะฝัะต ะธะทะผะตะฝะตะฝะธั.
