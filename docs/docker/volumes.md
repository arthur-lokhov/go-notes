# üß∞ –¢–æ–º–∞ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ Docker
<!--markdownlint-disable MD046-->

–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ **Docker** —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –∏ —ç—Ñ–µ–º–µ—Ä–Ω—ã ‚Äî –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –Ω–∏—Ö –∏—Å—á–µ–∑–∞—é—Ç –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ –Ω–µ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤–æ –≤–Ω–µ—à–Ω–∏–π —Ä–µ—Å—É—Ä—Å.
–î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö **Docker** –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã **volumes** (—Ç–æ–º–æ–≤) –∏ **bind mounts** (–ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ).

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ volumes –∏ bind mounting

**Volumes** (—Ç–æ–º–∞) ‚Äî —ç—Ç–æ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ Docker-–¥–≤–∏–∂–∫–æ–º –∫–∞—Ç–∞–ª–æ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –Ω–µ–º—É.
–û–Ω–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

**Bind mounting** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–ª–∏ —Ñ–∞–π–ª–∞ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Ö–æ—Å—Ç–∞ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≥–∏–±–∫–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ, —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞ —Ö–æ—Å—Ç–µ, –Ω–æ –º–µ–Ω–µ–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å volume.

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞       | Volumes                    | Bind Mounts                        |
| -------------------- | -------------------------- | ---------------------------------- |
| –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ         | `/var/lib/docker/volumes/` | –õ—é–±–æ–π –ø—É—Ç—å –Ω–∞ —Ö–æ—Å—Ç–µ                |
| –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Docker   | –î–∞                         | –ù–µ—Ç                                |
| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ swarm | –î–∞                         | –ù–µ—Ç                                |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å         | –í—ã—Å–æ–∫–∞—è                    | –ù–∏–∑–∫–∞—è                             |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ        | –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ            | –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è |

---

## üî¢ –°–ø–æ—Å–æ–±—ã –∑–∞–¥–∞–Ω–∏—è volumes

Docker –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å —Ç–æ–º–∞ —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

- –£–∫–∞–∑–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ –ø—É—Ç–∏ (`-v /container_dir`).
- –£–∫–∞–∑–∞–Ω–∏–µ –ø—É—Ç–∏ —Ö–æ—Å—Ç–∞ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (`-v /host_dir:/container_dir`).
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã `VOLUME` –≤ Dockerfile.

### –£–∫–∞–∑–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ –ø—É—Ç–∏

–ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—É—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –±–µ–∑ —Ö–æ—Å—Ç–æ–≤–æ–π —á–∞—Å—Ç–∏, Docker —Å–æ–∑–¥–∞—Å—Ç **–∞–Ω–æ–Ω–∏–º–Ω—ã–π** volume –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
–≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞, –Ω–æ —Ç–∞–∫–∏–µ —Ç–æ–º–∞ –º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è –∏ —Å–ª–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è.

```bash
docker run -it --name container-test -h CONTAINER -v /data debian /bin/bash

root@CONTAINER:/# ls /data # –ö–∞—Ç–∞–ª–æ–≥, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Ç–æ–º–æ–º
```

!!! info

    –î–∞–Ω–Ω—ã–π —Ç–æ–º –±—É–¥–µ—Ç –º–æ–Ω–∏—Ç—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –∏–∑ */var/lib/docker/volumes/container_id/_data/*

### –£–∫–∞–∑–∞–Ω–∏–µ –ø—É—Ç–∏ —Ö–æ—Å—Ç–∞ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–≠—Ç–æ **bind mount** ‚Äî –∫–∞—Ç–∞–ª–æ–≥ —Ö–æ—Å—Ç–∞ –±—É–¥–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –æ—Ç–æ–±—Ä–∞–∂—ë–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
–û–¥–Ω–∞–∫–æ —Ç–∞–∫–∏–µ —Ç–æ–º–∞ –º–µ–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã –∏ –Ω–µ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è Docker.

```bash
docker run -v /home/i4ox/data:/data debian ls /data
```

–ó–¥–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥ */home/i4ox/data* –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ */data* –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã `VOLUME`

–î–∏—Ä–µ–∫—Ç–∏–≤–∞ `VOLUME` –≤ Dockerfile —Å–æ–æ–±—â–∞–µ—Ç Docker, —á—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω –≤–æ –≤–Ω–µ—à–Ω–∏–π —Ç–æ–º.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–∑—É –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–æ–º–∞—Ö.
–û–¥–Ω–∞–∫–æ —ç—Ç–∞ –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ –Ω–µ –∑–∞–¥–∞—ë—Ç –∏–º—è —Ç–æ–º–∞ ‚Äî –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∫–∞–∫ –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

```Dockerfile
FROM debian:wheezy
VOLUME /data
```

---

## üóÉÔ∏è `--volumes-from` –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö

–ò–Ω–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ —Ç–æ–º–∞–º–∏.
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–º–∞, –±–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω—ã —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ, –ø–æ–¥–∫–ª—é—á–∞—é—Ç —Ç–æ–º–∞ —Å –ø–æ–º–æ—â—å—é `--volumes-from`, —É–∫–∞–∑—ã–≤–∞—è –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–º –≤ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö, –∫–æ–≥–¥–∞ —Ö–æ—á–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

!!! warning

    **–í–∞–∂–Ω–æ**: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞ (`FROM`), —á—Ç–æ–±—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –±—ã–ª–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∞.

–ü—Ä–∏–º–µ—Ä:

```bash
docker run --name dbdata postgres echo "Data-only container for postgres"
docker run -d --volumes-from dbdata --name db1 postgres
```

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä *db1* –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–º–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö *dbdata*. 

---

## üîÅ –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–º–æ–≤

–¢–æ–º–∞ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
–≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.
–î–∞–∂–µ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `docker rm`, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º —Ç–æ–º–∞ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ.

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –∏ –∏–∑–±–µ–∂–∞–Ω–∏—è "–º—É—Å–æ—Ä–∞", –≤–∞–∂–Ω–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–º–æ–≤ –∏ —É–¥–∞–ª—è—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ.

!!! warning

    **–í–Ω–∏–º–∞–Ω–∏–µ**: —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–º–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–ª–Ω–æ–π –ø–æ—Ç–µ—Ä–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –Ω—ë–º.

---

## üìò –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–º–∞–º–∏

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Å–æ–±—Ä–∞–Ω—ã –º–Ω–æ—é –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ: [–ü–æ–¥—Ä–æ–±–Ω–µ–µ](./commands.md).
