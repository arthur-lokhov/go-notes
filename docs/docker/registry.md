# üóÉÔ∏è –†–µ–µ—Å—Ç—Ä—ã –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω
<!--markdownlint-disable MD007 MD046-->

## üåê –ß—Ç–æ —Ç–∞–∫–æ–µ Docker Registry

**Docker Registry** ‚Äî —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Docker-–æ–±—Ä–∞–∑–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ:

- –•—Ä–∞–Ω–∏—Ç—å –≤–µ—Ä—Å–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤;
- –î–µ–ª–∏—Ç—å—Å—è –∏–º–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏;
- –û—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å CI/CD —á–µ—Ä–µ–∑ push/pull –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞.


–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ —Ä–µ–µ—Å—Ç—Ä–æ–≤:

- üè≠ **–ü—É–±–ª–∏—á–Ω—ã–µ**:
    - [Docker Hub](https://hub.docker.com/) ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    - [GitHub Container Registry](https://github.com/features/packages).
- üè¢ **–ß–∞—Å—Ç–Ω—ã–µ/–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ**:
    - [Harbor](https://goharbor.io/).
    - [GitLab Container Registry](https://docs.gitlab.com/user/packages/container_registry/).
    - [Amazon ECR](https://aws.amazon.com/ecr) –∏ –¥—Ä.
- üîí **–õ–æ–∫–∞–ª—å–Ω—ã–µ**:
    - –ü—Ä–æ—Å—Ç–æ–π —Ä–µ–µ—Å—Ç—Ä `registry:2` (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –æ—Ç Docker).

---

## üß≠ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω (namespaces)

Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –æ–±—Ä–∞–∑–æ–≤: `<—Ä–µ–µ—Å—Ç—Ä>/<namespace>/<–æ–±—Ä–∞–∑>:<—Ç–µ–≥>`.

### ‚úÖ **–ë–µ–∑ –∏–º–µ–Ω–∏** (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã)

```bash
docker pull alpine
```

–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:

```bash
docker pull docker.io/library/alpine:latest
```

> `library` ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π namespace Docker Hub.

### üë§ –° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º namespace (Docker Hub)

```bash
docker pull myusername/myapp
```

–ó–¥–µ—Å—å `myusername` ‚Äî —ç—Ç–æ namespace (–æ–±—ã—á–Ω–æ –ª–æ–≥–∏–Ω –Ω–∞ Docker Hub).

### üè¢ –° –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —Ä–µ–µ—Å—Ç—Ä–æ–º

```bash
docker pull registry.mycompany.com/project/backend:1.0
```

–ó–¥–µ—Å—å:

- `registry.mycompany.com` ‚Äî –∞–¥—Ä–µ—Å Docker Registry.
- `project` ‚Äî namespace.
- `backend` ‚Äî –∏–º—è –æ–±—Ä–∞–∑–∞.
- `1.0` ‚Äî —Ç–µ–≥ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è latest).

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ docker login

–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–µ—Å—Ç—Ä–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:

```bash
docker login
```

–î–ª—è –ª–æ–≥–∏–Ω–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä:

```bash
docker login registry.mycompany.com
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ push/pull –æ–±—Ä–∞–∑—ã, –µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø.

## üõ†Ô∏è –†–∞–±–æ—Ç–∞ —Å –æ–±—Ä–∞–∑–∞–º–∏: tag, push, pull

üìå `tag` ‚Äî –ø–æ–º–µ—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑

```bash
docker tag myapp registry.mycompany.com/project/myapp:1.0
```

### üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

- `myapp` ‚Äî —ç—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ (–∏–º—è –∏–ª–∏ ID), –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —É –≤–∞—Å –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏.
- `registry.mycompany.com/project/myapp:1.0` ‚Äî –Ω–æ–≤–æ–µ –∏–º—è (reference), –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ —ç—Ç–æ—Ç –æ–±—Ä–∞–∑ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å/–ø—É—à–∏—Ç—å.

> –≠—Ç–æ "–º–µ—Ç–∫–∞" (—Ç–µ–≥ + –∞–¥—Ä–µ—Å) –¥–ª—è Docker, —á—Ç–æ–±—ã –æ–Ω –∑–Ω–∞–ª, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ–±—Ä–∞–∑ –ø—Ä–∏ push.

üì§ `push` ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑ –≤ —Ä–µ–µ—Å—Ç—Ä

```bash
docker push registry.mycompany.com/project/myapp:1.0
```

üì• `pull` ‚Äî —Å–∫–∞—á–∞—Ç—å –æ–±—Ä–∞–∑ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞

```bash
docker pull registry.mycompany.com/project/myapp:1.0
```

## üöÄ –ü—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ (registry:2)

–†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º:

```bash
docker run -d -p 5000:5000 --name registry registry:2
```

–†–∞–±–æ—Ç–∞ —Å –Ω–∏–º:

```bash
docker tag myapp localhost:5000/myapp
docker push localhost:5000/myapp
docker pull localhost:5000/myapp
```

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –ø–æ –∞–¥—Ä–µ—Å—É `localhost:5000` –∫ –Ω–µ–∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É —Ä–µ–µ—Å—Ç—Ä—É, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ä–µ–µ—Å—Ç—Ä—ã –≤ Docker –∫–æ–Ω—Ñ–∏–≥–µ (`/etc/docker/daemon.json`).

–ü—Ä–∏–º–µ—Ä:

```json
{
    // –î—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏...
    "insecure-registries": ["localhost:5000"]
}
```

## üßæ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Dockerfile –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### üñãÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LABEL

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `LABEL` –¥–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –æ–±—Ä–∞–∑:

```Dockerfile
LABEL maintainer="you@example.com"
LABEL version="1.0"
LABEL description="Backend service for API"
```

### üßº –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ—ë–≤

–î–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

```Dockerfile
RUN apt update && apt install -y curl \
    && rm -rf /var/lib/apt/lists/*
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å

```bash
docker build -t myapp .
docker run --rm myapp
```

---

## üìò –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–µ—Å—Ç—Ä–∞–º–∏

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Å–æ–±—Ä–∞–Ω—ã –º–Ω–æ—é –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ: [–ü–æ–¥—Ä–æ–±–Ω–µ–µ](./commands.md).
